ÅEø<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<script type="text/javascript">
var version = {major: 2, minor: 0, revision: 0, date: new Date("Jan 5, 2006"), extensions: {}};
</script>
<!--
TiddlyWiki 2.0.0 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Osmosoft Limited 2004-2006

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<title>DODDLE - Domain Ontology rapiD DeveLopment Environment</title>
<script type="text/javascript">

// ---------------------------------------------------------------------------------
// Configuration repository
// ---------------------------------------------------------------------------------

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animFast: 0.12, // Speed for animations (lower == slower)
	animSlow: 0.01, // Speed for EasterEgg animations
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5 // Depth of cascade animation
	};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkAnimate: true,
	txtUserName: "YourName",
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: false,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30"
	};
	
// List of notification functions to be called when certain tiddlers are changed or deleted
config.notifyTiddlers = [
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: null, notify: refreshDisplay}
	];

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
	};

// Messages
config.messages = {
	customConfigError: "Error in systemConfig tiddler '%1' - %0",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#DownloadSoftware for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes using this browser. Use FireFox if you can",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<%0>>",
	macroErrorDetails: "Error while executing macro <<%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	messageClose: {text: "close", tooltip: "close this message area"},
	dates: {
		months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
		days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
		}
	};

// More messages (rather a legacy layout that shouldn't really be like this)
config.views = {
	wikified: {
		tag: {labelNoTags: "no tags", labelTags: "tags: ", openTag: "Open tag '%0'", tooltip: "Show tiddlers tagged with '%0'", openAllText: "Open all", openAllTooltip: "Open all of these tiddlers", popupNone: "No other tiddlers tagged with '%0'"},
		defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
		defaultModifier: "(missing)",
		shadowModifier: "(shadow)"
		},
	editor: {
		tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
		tagChooser: {text: "tags", tooltip: "Choose existing tags to add to this tiddler", popupNone: "There are no tags defined", tagTooltip: "Add the tag '%0'"},
		defaultText: "Type the text for '%0'"
		}
	};
		
// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {label: "search", prompt: "Search this TiddlyWiki", sizeTextbox: 15, accessKey: "F", successMsg: "%0 tiddlers found matching %1", failureMsg: "No tiddlers found matching %0"},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {label: "tagging:", labelNotTag: "not tagging", tooltip: "List of tiddlers tagged with '%0'"},
	timeline: {dateFormat: "DD MMM YYYY"},
	allTags: {tooltip: "Show tiddlers tagged with '%0'", noTags: "There are no tagged tiddlers"},
	list: {
		all: {prompt: "All tiddlers in alphabetical order"},
		missing: {prompt: "Tiddlers that have links to them but are not defined"},
		orphans: {prompt: "Tiddlers that are not linked to from any other tiddlers"},
		shadowed: {prompt: "Tiddlers shadowed with default contents"}
		},
	closeAll: {label: "close all", prompt: "Close all displayed tiddlers (except any that are being edited)"},
	permaview: {label: "permaview", prompt: "Link to an URL that retrieves all the currently displayed tiddlers"},
	saveChanges: {label: "save changes", prompt: "Save all tiddlers to create a new TiddlyWiki", accessKey: "S"},
	slider: {},
	option: {},
	newTiddler: {label: "new tiddler", prompt: "Create a new tiddler", title: "New Tiddler", accessKey: "N"},
	newJournal: {label: "new journal", prompt: "Create a new tiddler from the current date and time", accessKey: "J"},
	sparkline: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {},
	edit: {},
	tagChooser: {},
	toolbar: {}
	};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {text: "close", tooltip: "Close this tiddler"},
	closeOthers: {text: "close others", tooltip: "Close all other tiddlers"},
	editTiddler: {text: "edit", tooltip: "Edit this tiddler"},
	saveTiddler: {text: "done", tooltip: "Save changes to this tiddler"},
	cancelTiddler: {text: "cancel", tooltip: "Undo changes to this tiddler"},
	deleteTiddler: {text: "delete", tooltip: "Delete this tiddler", warning: "Are you sure you want to delete '%0'?"},
	permalink: {text: "permalink", tooltip: "Permalink for this tiddler"},
	references: {text: "references", tooltip: "Show tiddlers that link to this one", popupNone: "No references"},
	jump: {text: "jump", tooltip: "Jump to another open tiddler"}
	};
	
// Browser detection... In a very few places, there's nothing else for it but to
// know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150"))
	};

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]",
	anyLetter: "[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"
	};
if(config.browser.isBadSafari)
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z\u00df-\u00ff_0-9\\-]",
		anyLetter: "[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-]"
		}
config.textPrimitives.anyDigit = "[0-9]";
config.textPrimitives.anyNumberChar = "[0-9\\.E]";
config.textPrimitives.urlPattern = "(?:file|http|https|mailto|ftp):[^\\s'\"]+(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:" + config.textPrimitives.unWikiLink + "{0,1})(?:(?:" + config.textPrimitives.upperLetter + "+" +
											   config.textPrimitives.lowerLetter + "+" +
											   config.textPrimitives.upperLetter +
											   config.textPrimitives.anyLetter + "*)|(?:" +
											   config.textPrimitives.upperLetter + "{2,}" +
											   config.textPrimitives.lowerLetter + "+))";

// ---------------------------------------------------------------------------------
// Shadow tiddlers for emergencies
// ---------------------------------------------------------------------------------

config.shadowTiddlers = {
	SideBarOptions: "<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal 'DD MMM YYYY'>><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel 'options ¬ª' 'Change TiddlyWiki advanced options'>>",
	OptionsPanel: "These InterfaceOptions for customising TiddlyWiki are saved in your browser\n\nYour username for signing your edits. Write it as a WikiWord (eg JoeBloggs)\n\n<<option txtUserName>>\n<<option chkSaveBackups>> SaveBackups\n<<option chkAutoSave>> AutoSave\n<<option chkRegExpSearch>> RegExpSearch\n<<option chkCaseSensitiveSearch>> CaseSensitiveSearch\n<<option chkAnimate>> EnableAnimations\n\nSee AdvancedOptions",
	AdvancedOptions: "<<option chkGenerateAnRssFeed>> GenerateAnRssFeed\n<<option chkOpenInNewWindow>> OpenLinksInNewWindow\n<<option chkSaveEmptyTemplate>> SaveEmptyTemplate\n<<option chkToggleLinks>> Clicking on links to tiddlers that are already open causes them to close\n^^(override with Control or other modifier key)^^\n<<option chkHttpReadOnly>> HideEditingFeatures when viewed over HTTP\n<<option chkForceMinorUpdate>> Treat edits as MinorChanges by preserving date and time\n^^(override with Shift key when clicking 'done' or by pressing Ctrl-Shift-Enter^^\n<<option chkConfirmDelete>> ConfirmBeforeDeleting\nMaximum number of lines in a tiddler edit box: <<option txtMaxEditRows>>",
	SideBarTabs: "<<tabs txtMainTab Timeline Timeline TabTimeline All 'All tiddlers' TabAll Tags 'All tags' TabTags More 'More lists' TabMore>>",
	TabTimeline: "<<timeline>>",
	TabAll: "<<list all>>",
	TabTags: "<<allTags>>",
	TabMore: "<<tabs txtMoreTab Missing 'Missing tiddlers' TabMoreMissing Orphans 'Orphaned tiddlers' TabMoreOrphans>>",
	TabMoreMissing: "<<list missing>>",
	TabMoreOrphans: "<<list orphans>>",
	StyleSheetColors: "/***\n!Colors Used\n*@@bgcolor(#8cf): #8cf - Background blue@@\n*@@bgcolor(#18f): #18f - Top blue@@\n*@@bgcolor(#04b): #04b - Mid blue@@\n*@@bgcolor(#014):color(#fff): #014 - Bottom blue@@\n*@@bgcolor(#ffc): #ffc - Bright yellow@@\n*@@bgcolor(#fe8): #fe8 - Highlight yellow@@\n*@@bgcolor(#db4): #db4 - Background yellow@@\n*@@bgcolor(#841): #841 - Border yellow@@\n*@@bgcolor(#703):color(#fff): #703 - Title red@@\n*@@bgcolor(#866): #866 - Subtitle grey@@\n!Generic Rules /%==============================================%/\n***/\n/*{{{*/\nbody {\n	background: #fff;\n	color: #000;\n}\n\na{\n	color: #04b;\n}\n\na:hover{\n	background: #04b;\n	color: #fff;\n}\n\na img{\n	border: 0;\n}\n\nh1,h2,h3,h4,h5 {\n	color: #703;\n	background: #8cf;\n}\n\n.button {\n	color: #014;\n	border: 1px solid #fff;\n}\n\n.button:hover {\n	color: #014;\n	background: #fe8;\n	border: 1px solid #db4;\n}\n\n.button:active {\n	color: #fff;\n	background: #db4;\n	border: 1px solid #841;\n}\n\n/*}}}*/\n/***\n!Header /%==================================================%/\n***/\n/*{{{*/\n.header {\n	background: #04b;\n}\n\n.headerShadow {\n	color: #000;\n}\n\n.headerShadow a {\n	font-weight: normal;\n	color: #000;\n}\n\n.headerForeground {\n	color: #fff;\n}\n\n.headerForeground a {\n	font-weight: normal;\n	color: #8cf;\n}\n\n/*}}}*/\n/***\n!General tabs /%=================================================%/\n***/\n/*{{{*/\n\n.tabSelected{\n	color: #014;\n	background: #eee;\n	border-left: 1px solid #ccc;\n	border-top: 1px solid #ccc;\n	border-right: 1px solid #ccc;\n}\n\n.tabUnselected {\n	color: #fff;\n	background: #999;\n}\n\n.tabContents {\n	color: #014;\n	background: #eee;\n	border: 1px solid #ccc;\n}\n\n/*}}}*/\n/***\n!Sidebar options /%=================================================%/\n~TiddlyLinks and buttons are treated identically in the sidebar and slider panel\n***/\n/*{{{*/\n#sidebar {\n}\n\n#sidebarOptions input {\n	border: 1px solid #04b;\n}\n\n#sidebarOptions .sliderPanel {\n	background: #8cf;\n}\n\n#sidebarOptions .sliderPanel a {\n	border: none;\n	color: #04b;\n}\n\n#sidebarOptions .sliderPanel a:hover {\n	color: #fff;\n	background: #04b;\n}\n\n#sidebarOptions .sliderPanel a:active {\n	color: #04b;\n	background: #fff;\n}\n/*}}}*/\n/***\n!Message Area /%=================================================%/\n***/\n/*{{{*/\n#messageArea {\n	border: 1px solid #841;\n	background: #db4;\n	color: #014;\n}\n\n#messageArea .button {\n	padding: 0.2em 0.2em 0.2em 0.2em;\n	color: #014;\n	background: #fff;\n}\n\n/*}}}*/\n/***\n!Popup /%=================================================%/\n***/\n/*{{{*/\n.popup {\n	background: #18f;\n	border: 1px solid #04b;\n}\n\n.popup hr {\n	color: #014;\n	background: #014;\n	border-bottom: 1px;\n}\n\n.popup li.disabled {\n	color: #04b;\n}\n\n.popup li a, .popup li a:visited {\n	color: #eee;\n	border: none;\n}\n\n.popup li a:hover {\n	background: #014;\n	color: #fff;\n	border: none;\n}\n/*}}}*/\n/***\n!Tiddler Display /%=================================================%/\n***/\n/*{{{*/\n.tiddler .defaultCommand {\n font-weight: bold;\n}\n\n.shadow .title {\n	color: #866;\n}\n\n.title {\n	color: #703;\n}\n\n.subtitle {\n	color: #866;\n}\n\n.toolbar {\n	color: #04b;\n}\n\n.tagging, .tagged {\n	border: 1px solid #eee;\n	background-color: #eee;\n}\n\n.selected .tagging, .selected .tagged {\n	background-color: #ddd;\n	border: 1px solid #bbb;\n}\n\n.tagging .listTitle, .tagged .listTitle {\n	color: #014;\n}\n\n.tagging a, .tagged a {\n	border: none;\n}\n\n.footer {\n	color: #ddd;\n}\n\n.selected .footer {\n	color: #888;\n}\n\n.sparkline {\n	background: #8cf;\n	border: 0;\n}\n\n.sparktick {\n	background: #014;\n}\n\n.errorButton {\n	color: #ff0;\n	background: #f00;\n}\n\n.cascade {\n	background: #eef;\n	color: #aac;\n	border: 1px solid #aac;\n}\n\n.imageLink {\n	background: transparent;\n}\n\n/*}}}*/\n/***\n''The viewer is where the tiddler content is displayed'' /%------------------------------------------------%/\n***/\n/*{{{*/\n\n.viewer .button {\n	border: 1px solid #db4;\n}\n\n.viewer blockquote {\n	border-left: 3px solid #666;\n}\n\n.viewer table {\n	border: 2px solid #333;\n}\n\n.viewer th, thead td {\n	background: #996;\n	border: 1px solid #666;\n	color: #fff;\n}\n\n.viewer td, .viewer tr {\n	border: 1px solid #666;\n}\n\n.viewer pre {\n	border: 1px solid #fe8;\n	background: #ffc;\n}\n\n.viewer code {\n	color: #703;\n}\n\n.viewer hr {\n	border: 0;\n	border-top: dashed 1px #666;\n	color: #666;\n}\n\n.highlight, .marked {\n	background: #fe8;\n}\n/*}}}*/\n/***\n''The editor replaces the viewer in the tiddler'' /%------------------------------------------------%/\n***/\n/*{{{*/\n.editor input {\n	border: 1px solid #04b;\n}\n\n.editor textarea {\n	border: 1px solid #04b;\n	width: 100%;\n}\n\n.editorFooter {\n	color: #aaa;\n}\n\n/*}}}*/",
	StyleSheetLayout: "/***\n!Sections in this Tiddler:\n*Generic rules\n**Links styles\n**Link Exceptions\n*Header\n*Main menu\n*Sidebar\n**Sidebar options\n**Sidebar tabs\n*Message area\n*Popup\n*Tabs\n*Tiddler display\n**Viewer\n**Editor\n*Misc. rules\n!Generic Rules /%==============================================%/\n***/\n/*{{{*/\nbody {\n	font-size: .75em;\n	font-family: arial,helvetica;\n	position: relative;\n	margin: 0;\n	padding: 0;\n}\n\nh1,h2,h3,h4,h5 {\n	font-weight: bold;\n	text-decoration: none;\n	padding-left: 0.4em;\n}\n\nh1 {font-size: 1.35em;}\nh2 {font-size: 1.25em;}\nh3 {font-size: 1.1em;}\nh4 {font-size: 1em;}\nh5 {font-size: .9em;}\n\nhr {\n	height: 1px;\n}\n\na{\n	text-decoration: none;\n}\n/*}}}*/\n/***\n''General Link Styles'' /%-----------------------------------------------------------------------------%/\n***/\n/*{{{*/\n.externalLink {\n	text-decoration: underline;\n}\n\n.tiddlyLinkExisting {\n	font-weight: bold;\n}\n\n.tiddlyLinkNonExisting {\n	font-style: italic;\n}\n\n/* the 'a' is required for IE, otherwise it renders the whole tiddler a bold */\na.tiddlyLinkNonExisting.shadow {\n	font-weight: bold;\n}\n/*}}}*/\n/***\n''Exceptions to common link styles'' /%------------------------------------------------------------------%/\n***/\n/*{{{*/\n\n#mainMenu .tiddlyLinkExisting, \n#mainMenu .tiddlyLinkNonExisting,\n#sidebarTabs .tiddlyLinkExisting,\n#sidebarTabs .tiddlyLinkNonExisting,\n#siteTitle .tiddlyLinkExisting,\n#siteTitle .tiddlyLinkNonExisting{\n font-weight: normal;\n font-style: normal;\n}\n\n/*}}}*/\n/***\n!Header /%==================================================%/\n***/\n/*{{{*/\n\n.header {\n    position: relative;\n}\n\n.header a:hover {\n	background: transparent;\n}\n\n.headerShadow {\n	position: relative;\n	padding: 4.5em 0em 1em 1em;\n	left: -1px;\n	top: -1px;\n}\n\n.headerForeground {\n	position: absolute;\n	padding: 4.5em 0em 1em 1em;\n	left: 0px;\n	top: 0px;\n}\n\n.siteTitle {\n	font-size: 3em;\n}\n\n.siteSubtitle {\n	font-size: 1.2em;\n}\n\n/*}}}*/\n/***\n!Main menu /%==================================================%/\n***/\n/*{{{*/\n#mainMenu {\n	position: absolute;\n	left: 0;\n	width: 10em;\n	text-align: right;\n	line-height: 1.6em;\n	padding: 1.5em 0.5em 0.5em 0.5em;\n	font-size: 1.1em;\n}\n\n/*}}}*/\n/***\n!Sidebar rules /%==================================================%/\n***/\n/*{{{*/\n#sidebar {\n	position: absolute;\n	right: 3px;\n	width: 16em;\n	font-size: .9em;\n}\n/*}}}*/\n/***\n''Sidebar options'' /%----------------------------------------------------------------------------------%/\n***/\n/*{{{*/\n#sidebarOptions {\n	padding-top: 0.3em;\n}\n\n#sidebarOptions a {\n	margin: 0em 0.2em;\n	padding: 0.2em 0.3em;\n	display: block;\n}\n\n#sidebarOptions input {\n	margin: 0.4em 0.5em;\n}\n\n#sidebarOptions .sliderPanel {\n	margin-left: 1em;\n	padding: 0.5em;\n	font-size: .85em;\n}\n\n#sidebarOptions .sliderPanel a {\n	font-weight: bold;\n	display: inline;\n	padding: 0;\n}\n\n#sidebarOptions .sliderPanel input {\n	margin: 0 0 .3em 0;\n}\n/*}}}*/\n/***\n''Sidebar tabs'' /%-------------------------------------------------------------------------------------%/\n***/\n/*{{{*/\n\n#sidebarTabs .tabContents {\n	width: 15em;\n	overflow: hidden;\n}\n\n/*}}}*/\n/***\n!Message area /%==================================================%/\n***/\n/*{{{*/\n#messageArea {\n	padding: 0.5em;\n}\n\n.messageToolbar {\ndisplay: block;\ntext-align: right;\n}\n\n#messageArea a{\n	text-decoration: underline;\n}\n/*}}}*/\n/***\n!Popup /%==================================================%/\n***/\n/*{{{*/\n.popup {\n	font-size: .9em;\n	padding: 0.2em;\n	list-style: none;\n	margin: 0;\n}\n\n.popup hr {\n	display: block;\n	height: 1px;\n	width: auto;\n	padding: 0;\n	margin: 0.2em 0em;\n}\n\n.popup li.disabled {\n	padding: 0.2em;\n}\n\n.popup li a{\n	display: block;\n	padding: 0.2em;\n}\n/*}}}*/\n/***\n!Tabs /%==================================================%/\n***/\n/*{{{*/\n.tabset {\n	padding: 1em 0em 0em 0.5em;\n}\n\n.tab {\n	margin: 0em 0em 0em 0.25em;\n	padding: 2px;\n}\n\n.tabContents {\n	padding: 0.5em;\n}\n\n.tabContents ul, .tabContents ol {\n	margin: 0;\n	padding: 0;\n}\n\n.tabContents li {\n	list-style: none;\n}\n\n.tabContents li.listLink {\n   margin-left: .75em;\n}\n/*}}}*/\n/***\n!Tiddler display rules /%==================================================%/\n***/\n/*{{{*/\n#displayArea {\n	margin: 1em 17em 0em 14em;\n}\n\n\n.toolbar {\n	text-align: right;\n	font-size: .9em;\n	visibility: hidden;\n}\n\n.selected .toolbar {\n	visibility: visible;\n}\n\n.tiddler {\n	padding: 1em 1em 0em 1em;\n}\n\n.missing .viewer,.missing .title {\n	font-style: italic;\n}\n\n.title {\n	font-size: 1.6em;\n	font-weight: bold;\n}\n\n.missing .subtitle {\n display: none\n}\n\n.subtitle {\n	font-size: 1.1em;\n}\n\n/* I'm not a fan of how button looks in tiddlers... */\n.tiddler .button {\n	padding: 0.2em 0.4em;\n}\n\n.tagging {\nmargin: 0.5em 0.5em 0.5em 0;\nfloat: left;\ndisplay: none;\n}\n\n.isTag .tagging {\ndisplay: block;\n}\n\n.tagged {\nmargin: 0.5em;\nfloat: right;\n}\n\n.tagging, .tagged {\nfont-size: 0.9em;\npadding: 0.25em;\n}\n\n.tagging ul, .tagged ul {\nlist-style: none;margin: 0.25em;\npadding: 0;\n}\n\n.tagClear {\nclear: both;\n}\n\n.footer {\n	font-size: .9em;\n}\n\n.footer li {\ndisplay: inline;\n}\n/***\n''The viewer is where the tiddler content is displayed'' /%------------------------------------------------%/\n***/\n/*{{{*/\n.viewer {\n	line-height: 1.4em;\n	padding-top: 0.5em;\n}\n\n.viewer .button {\n	margin: 0em 0.25em;\n	padding: 0em 0.25em;\n}\n\n.viewer blockquote {\n	line-height: 1.5em;\n	padding-left: 0.8em;\n	margin-left: 2.5em;\n}\n\n.viewer ul, .viewer ol{\n	margin-left: 0.5em;\n	padding-left: 1.5em;\n}\n\n.viewer table {\n	border-collapse: collapse;\n	margin: 0.8em 1.0em;\n}\n\n.viewer th, .viewer td, .viewer tr,.viewer caption{\n	padding: 3px;\n}\n\n.viewer pre {\n	padding: 0.5em;\n	margin-left: 0.5em;\n	font-size: 1.2em;\n	line-height: 1.4em;\n	overflow: auto;\n}\n\n.viewer code {\n	font-size: 1.2em;\n	line-height: 1.4em;\n}\n/*}}}*/\n/***\n''The editor replaces the viewer in the tiddler'' /%------------------------------------------------%/\n***/\n/*{{{*/\n.editor {\nfont-size: 1.1em;\n}\n\n.editor input, .editor textarea {\n	display: block;\n	width: 100%;\n	font: inherit;\n}\n\n.editorFooter {\n	padding: 0.25em 0em;\n	font-size: .9em;\n}\n\n.fieldsetFix {border: 0;\npadding: 0;\nmargin: 1px 0px 1px 0px;\n}\n/*}}}*/\n/***\n!Misc rules /%==================================================%/\n***/\n/*{{{*/\n.sparkline {\n	line-height: 1em;\n}\n\n.sparktick {\n	outline: 0;\n}\n\n.zoomer {\n	font-size: 1.1em;\n	position: absolute;\n	padding: 1em;\n}\n\n.cascade {\n	font-size: 1.1em;\n	position: absolute;\n	overflow: hidden;\n}\n/*}}}*/",
	StyleSheetPrint: "@media print {\n#mainMenu, #sidebar, #messageArea {display: none ! important;}\n#displayArea {margin: 1em 1em 0em 1em;}\n}",
	PageTemplate: "<div class='header' macro='gradient vert #18f #04b'>\n<div class='headerShadow'>\n<span class='siteTitle' refresh='content' tiddler='SiteTitle'></span>&nbsp;\n<span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'></span>\n</div>\n<div class='headerForeground'>\n<span class='siteTitle' refresh='content' tiddler='SiteTitle'></span>&nbsp;\n<span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'></span>\n</div>\n</div>\n<div id='mainMenu' refresh='content' tiddler='MainMenu'></div>\n<div id='sidebar'>\n<div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'></div>\n<div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'></div>\n</div>\n<div id='displayArea'>\n<div id='messageArea'></div>\n<div id='tiddlerDisplay'></div>\n</div>",
	ViewTemplate: "<div class='toolbar' macro='toolbar -closeTiddler closeOthers +editTiddler permalink references jump'></div>\n<div class='title' macro='view title'></div>\n<div class='subtitle'><span macro='view modifier link'></span>, <span macro='view modified date [[DD MMM YYYY]]'></span> (created <span macro='view created date [[DD MMM YYYY]]'></span>)</div>\n<div class='tagging' macro='tagging'></div>\n<div class='tagged' macro='tags'></div>\n<div class='viewer' macro='view text wikified'></div>\n<div class='tagClear'></div>",
	EditTemplate: "<div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler deleteTiddler'></div>\n<div class='title' macro='view title'></div>\n<div class='editor' macro='edit title'></div>\n<div class='editor' macro='edit text'></div>\n<div class='editor' macro='edit tags'></div><div class='editorFooter'><span macro='message views.editor.tagPrompt'></span><span macro='tagChooser'></span></div>"
	};

// ---------------------------------------------------------------------------------
// Main
// ---------------------------------------------------------------------------------

var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
var anim = new Animator(); // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...

// Starting up
function main()
{
	store = new TiddlyWiki();
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	loadOptionsCookie();
	for(var s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	store.loadFromDiv("storeArea","store");
	loadSystemConfig();
	formatter = new Formatter(config.formatters);
	readOnly = (document.location.toString().substr(0,7) == "http://") ? config.options.chkHttpReadOnly : false;
	store.notifyAll();
	restart();
}

// Restarting
function restart()
{
	var start = store.getTiddlerText("DefaultTiddlers");
	if(window.location.hash)
		story.displayTiddlers(null,convertUTF8ToUnicode(decodeURI(window.location.hash.substr(1))).readBracketedList());
	else if(start)
		story.displayTiddlers(null,start.readBracketedList());
}

function saveTest()
{
	var saveTest = document.getElementById("saveTest");
	if(saveTest.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	saveTest.appendChild(document.createTextNode("savetest"));
}

function loadSystemConfig()
{
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(var t=0; t<configTiddlers.length; t++)
		{
		var ex = processConfig(configTiddlers[t].text);
		if(ex)
			displayMessage(config.messages.customConfigError.format([ex,configTiddlers[t].title]));
		}
}

// Merge a custom configuration over the top of the current configuration
// Returns a string error message or null if it went OK
function processConfig(customConfig)
{
	try
		{
		if(customConfig && customConfig != "")
			window.eval(customConfig);
		}
	catch(e)
		{
		return(e.toString());
		}
	return null;
}

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try
		{
		var m = config.macros[macro];
		if(m && m.handler)
			m.handler(place,macro,params.readMacroParams(),wikifier,params,tiddler);
		else
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	catch(ex)
		{
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
		}
}

// ---------------------------------------------------------------------------------
// Formatters
// ---------------------------------------------------------------------------------

function Formatter(formatters)
{
	this.formatters = [];
	var pattern = [];
	for(var n=0; n<formatters.length; n++)
		{
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
		}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	charFormatHelper: function(w)
	{
		var e = createTiddlyElement(w.output,this.element);
		w.subWikify(e,this.terminator);
	},
	
	inlineCssHelper:  function(w)
	{
		var styles = [];
		var lookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
		var lookaheadRegExp = new RegExp(lookahead,"mg");
		var hadStyle = false;
		do {
			lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			var gotMatch = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(gotMatch)
				{
				var s,v;
				hadStyle = true;
				if(lookaheadMatch[1])
					{
					s = lookaheadMatch[1].unDash();
					v = lookaheadMatch[2];
					}
				else
					{
					s = lookaheadMatch[3].unDash();
					v = lookaheadMatch[4];
					}
				switch(s)
					{
					case "bgcolor": s = "backgroundColor"; break;
					}
				styles.push({style: s, value: v});
				w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
				}
		} while(gotMatch);
		return styles;
	},

	monospacedByLineHelper: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			var text = lookaheadMatch[1];
			if(config.browser.isIE)
				text = text.replace(/\n/g,"\r");
			var e = createTiddlyElement(w.output,"pre",null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	}

};

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",
	lookahead: "^\\|([^\\n]*)\\|([fhc]?)$",
	rowTerminator: "\\|(?:[fhc]?)$\\n?",
	cellPattern: "(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",
	cellTerminator: "(?:\\x20*)\\|",
	rowTypes: {"c": "caption", "h": "thead", "": "tbody", "f": "tfoot"},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table");
		w.nextMatch = w.matchStart;
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		var currRowType = null, nextRowType;
		var rowContainer, rowElement;
		var prevColumns = [];
		var rowCount = 0;
		do {
			lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			var matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched)
				{
				nextRowType = lookaheadMatch[2];
				if(nextRowType != currRowType)
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
				currRowType = nextRowType;
				if(currRowType == "c")
					{
					if(rowCount == 0)
						rowContainer.setAttribute("align","top");
					else
						rowContainer.setAttribute("align","bottom");
					w.nextMatch = w.nextMatch + 1;
					w.subWikify(rowContainer,this.rowTerminator);
					table.insertBefore(rowContainer,table.firstChild);
					}
				else
					{
					var rowClass = (rowCount & 1) ? "oddRow" : "evenRow";
					rowElement = createTiddlyElement(rowContainer,"tr",null,rowClass);
					this.rowHandler(w,rowElement,prevColumns);
					}
				rowCount++;
				}
		} while(matched);
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var currColCount = 1;
		var cellRegExp = new RegExp(this.cellPattern,"mg");
		do {
			cellRegExp.lastIndex = w.nextMatch;
			var cellMatch = cellRegExp.exec(w.source);
			matched = cellMatch && cellMatch.index == w.nextMatch;
			if(matched)
				{
				if(cellMatch[1] == "~")
					{
					var last = prevColumns[col];
					if(last)
						{
						last.rowCount++;
						last.element.setAttribute("rowSpan",last.rowCount);
						last.element.setAttribute("rowspan",last.rowCount);
						last.element.valign = "center";
						}
					w.nextMatch = cellMatch.index + cellMatch[0].length-1;
					}
				else if(cellMatch[1] == ">")
					{
					currColCount++;
					w.nextMatch = cellMatch.index + cellMatch[0].length-1;
					}
				else if(cellMatch[2])
					{
					w.nextMatch = cellMatch.index + cellMatch[0].length;;
					break;
					}
				else
					{
					var spaceLeft = false, spaceRight = false;
					w.nextMatch++;
					var styles = config.formatterHelpers.inlineCssHelper(w);
					while(w.source.substr(w.nextMatch,1) == " ")
						{
						spaceLeft = true;
						w.nextMatch++;
						}
					var cell;
					if(w.source.substr(w.nextMatch,1) == "!")
						{
						cell = createTiddlyElement(e,"th");
						w.nextMatch++;
						}
					else
						cell = createTiddlyElement(e,"td");
					prevColumns[col] = {rowCount: 1, element: cell};
					lastColCount = 1;
					lastColElement = cell;
					if(currColCount > 1)
						{
						cell.setAttribute("colSpan",currColCount);
						cell.setAttribute("colspan",currColCount);
						currColCount = 1;
						}
					for(var t=0; t<styles.length; t++)
						cell.style[styles[t].style] = styles[t].value;
					w.subWikify(cell,this.cellTerminator);
					if(w.matchText.substr(w.matchText.length-2,1) == " ")
						spaceRight = true;
					if(spaceLeft && spaceRight)
						cell.align = "center";
					else if (spaceLeft)
						cell.align = "right";
					else if (spaceRight)
						cell.align = "left";
					w.nextMatch = w.nextMatch-1;
					}
				col++;
				}
		} while(matched);		
	}
},

{
	name: "rule",
	match: "^----$\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "heading",
	match: "^!{1,5}",
	terminator: "\\n",
	handler: function(w)
	{
		var e = createTiddlyElement(w.output,"h" + w.matchLength);
		w.subWikify(e,this.terminator);
	}
},

{
	name: "monospacedByLine",
	match: "^\\{\\{\\{\\n",
	lookahead: "^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",
	handler: config.formatterHelpers.monospacedByLineHelper
},

{
	name: "monospacedByLineForCSS",
	match: "^/\\*[\\{]{3}\\*/\\n",
	lookahead: "/\\*[\\{]{3}\\*/\\n*((?:^[^\\n]*\\n)+?)(\\n*^/\\*[\\}]{3}\\*/$\\n?)", 
	handler: config.formatterHelpers.monospacedByLineHelper
},

{
	name: "monospacedByLineForPlugin",
	match: "^//\\{\\{\\{\\n",
	lookahead: "^//\\{\\{\\{\\n\\n*((?:^[^\\n]*\\n)+?)(\\n*^//\\}\\}\\}$\\n?)",
	handler: config.formatterHelpers.monospacedByLineHelper
},

{
	name: "wikifyCommentForPlugin", 
	match: "^/\\*\\*\\*\\n",
	terminator: "^\\*\\*\\*/\\n",
	handler: function(w)
	{
		w.subWikify(w.output,this.terminator);
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	terminator: "^<<<\\n",
	handler: function(w)
	{
		var e = createTiddlyElement(w.output,"blockquote");
		w.subWikify(e,this.terminator);
	}
},

{
	name: "quoteByLine",
	match: "^>+",
	terminator: "\\n",
	element: "blockquote",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.match,"mg");
		var placeStack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t;
		do {
			if(newLevel > currLevel)
				{
				for(t=currLevel; t<newLevel; t++)
					placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],this.element));
				}
			else if(newLevel < currLevel)
				{
				for(t=currLevel; t>newLevel; t--)
					placeStack.pop();
				}
			currLevel = newLevel;
			w.subWikify(placeStack[placeStack.length-1],this.terminator);
			createTiddlyElement(placeStack[placeStack.length-1],"br");
			lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			var matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched)
				{
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
				}
		} while(matched);
	}
},

{
	name: "list",
	match: "^(?:(?:\\*+)|(?:#+))",
	lookahead: "^(?:(\\*+)|(#+))",
	terminator: "\\n",
	outerElement: "ul",
	itemElement: "li",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		w.nextMatch = w.matchStart;
		var placeStack = [w.output];
		var currType = null, newType;
		var currLevel = 0, newLevel;
		var t;
		do {
			lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			var matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched)
				{
				if(lookaheadMatch[1])
					newType = "ul";
				if(lookaheadMatch[2])
					newType = "ol";
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
				if(newLevel > currLevel)
					{
					for(t=currLevel; t<newLevel; t++)
						placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],newType));
					}
				else if(newLevel < currLevel)
					{
					for(t=currLevel; t>newLevel; t--)
						placeStack.pop();
					}
				else if(newLevel == currLevel && newType != currType)
					{
						placeStack.pop();
						placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],newType));
					}
				currLevel = newLevel;
				currType = newType;
				var e = createTiddlyElement(placeStack[placeStack.length-1],"li");
				w.subWikify(e,this.terminator);
				}
		} while(matched);
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.wikiLink,
	badPrefix: config.textPrimitives.anyLetter,
	handler: function(w)
	{
		var preRegExp = new RegExp(config.textPrimitives.anyLetter,"mg");
		var preMatch = null;
		if(w.matchStart > 0)
			{
			preRegExp.lastIndex = w.matchStart-1;
			preMatch = preRegExp.exec(w.source);
			}
		if(preMatch && preMatch.index == w.matchStart-1)
			w.outputText(w.output,w.matchStart,w.nextMatch);
		else if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink)
			w.outputText(w.output,w.matchStart + 1,w.nextMatch);
		else
			{
			var link = createTiddlyLink(w.output,w.matchText,false);
			w.outputText(link,w.matchStart,w.nextMatch);
			}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookahead: "\\[\\[([^\\|\\]]*?)(?:(\\]\\])|(\\|(.*?)\\]\\]))",
	terminator: "\\|",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[2]) // Simple bracketted link
			{
			var link = createTiddlyLink(w.output,lookaheadMatch[1],false);
			w.outputText(link,w.nextMatch,w.nextMatch + lookaheadMatch[1].length);
			w.nextMatch += lookaheadMatch[1].length + 2;
			}
		else if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[3]) // Pretty bracketted link
			{
			var e;
			if(store.tiddlerExists(lookaheadMatch[4]))
				e = createTiddlyLink(w.output,lookaheadMatch[4],false);
			else
				e = createExternalLink(w.output,lookaheadMatch[4]);
			w.outputText(e,w.nextMatch,w.nextMatch + lookaheadMatch[1].length);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		var e = createExternalLink(w.output,w.matchText);
		w.outputText(e,w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",
	lookahead: "\\[([<]{0,1})([>]{0,1})[Ii][Mm][Gg]\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) // Simple bracketted link
			{
			var e = w.output;
			if(lookaheadMatch[5])
				{
				if(store.tiddlerExists(lookaheadMatch[5]))
					e = createTiddlyLink(w.output,lookaheadMatch[5],false);
				else
					e = createExternalLink(w.output,lookaheadMatch[5]);
				addClass(e,"imageLink");
				}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3])
				img.title = lookaheadMatch[3];
			img.src = lookaheadMatch[4];
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	}
},

{
	name: "macro",
	match: "<<",
	lookahead: "<<([^>\\s]+)(?:\\s*)((?:[^>]|(?:>(?!>)))*)>>",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1])
			{		
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
			}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookahead: "<[Hh][Tt][Mm][Ll]>((?:.|\\n)*?)</[Hh][Tt][Mm][Ll]>",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			var e = createTiddlyElement(w.output,"span");
			e.innerHTML = lookaheadMatch[1];
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookahead: "/%((?:.|\\n)*?)%/",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
	}
},

{
	name: "boldByChar",
	match: "''",
	terminator: "''",
	element: "strong",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "strikeByChar",
	match: "==",
	terminator: "==",
	element: "strike",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "underlineByChar",
	match: "__",
	terminator: "__",
	element: "u",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "italicByChar",
	match: "//",
	terminator: "//",
	element: "em",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "subscriptByChar",
	match: "~~",
	terminator: "~~",
	element: "sub",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "superscriptByChar",
	match: "\\^\\^",
	terminator: "\\^\\^",
	element: "sup",
	handler: config.formatterHelpers.charFormatHelper
},

{
	name: "monospacedByChar",
	match: "\\{\\{\\{",
	lookahead: "\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",
	handler: function(w)
	{
		var lookaheadRegExp = new RegExp(this.lookahead,"mg");
		lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			var e = createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	}
},

{
	name: "styleByChar",
	match: "@@",
	terminator: "@@",
	lookahead: "(?:([^\\(@]+)\\(([^\\)]+)(?:\\):))|(?:([^:@]+):([^;]+);)",
	handler:  function(w)
	{
		var e = createTiddlyElement(w.output,"span",null,null,null);
		var styles = config.formatterHelpers.inlineCssHelper(w);
		if(styles.length == 0)
			e.className = "marked";
		else
			for(var t=0; t<styles.length; t++)
				e.style[styles[t].style] = styles[t].value;
		w.subWikify(e,this.terminator);
	}
},

{
	name: "lineBreak",
	match: "\\n",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "&#?[a-zA-Z0-9]{2,8};",
	handler: function(w)
		{
		var e = createTiddlyElement(w.output,"span");
		e.innerHTML = w.matchText ;
		}
}

];

// ---------------------------------------------------------------------------------
// Wikifier
// ---------------------------------------------------------------------------------

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source && source != "")
		{
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.subWikify(output,null);
		}
}

// Wikify a named tiddler to plain text
function wikifyPlain(title)
{
	if(store.tiddlerExists(title))
		{
		var wikifier = new Wikifier(store.getTiddlerText(title),formatter,null,store.getTiddler(title));
		return wikifier.wikifyPlain();
		}
	else
		return "";
}

// Highlight plain text into an element
function highlightify(source,output,highlightRegExp)
{
	if(source && source != "")
		{
		var wikifier = new Wikifier(source,formatter,highlightRegExp,null);
		wikifier.outputText(output,0,source.length);
		}
}

// Construct a wikifier object
// source - source string that's going to be wikified
// formatter - Formatter() object containing the list of formatters to be used
// highlightRegExp - regular expression of the text string to highlight
// tiddler - reference to the tiddler that's taken to be the container for this wikification
function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;	
	if(highlightRegExp)
		{
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
		}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e,null);
	var text = getPlainText(e);
	e.parentNode.removeChild(e);
	return text;
}

Wikifier.prototype.subWikify = function(output,terminator)
{
	// Temporarily replace the output pointer
	var oldOutput = this.output;
	this.output = output;
	// Prepare the terminator RegExp
	var terminatorRegExp = terminator ? new RegExp("(" + terminator + ")","mg") : null;
	do {
		// Prepare the RegExp match positions
		this.formatter.formatterRegExp.lastIndex = this.nextMatch;
		if(terminatorRegExp)
			terminatorRegExp.lastIndex = this.nextMatch;
		// Get the first matches
		var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
		var terminatorMatch = terminatorRegExp ? terminatorRegExp.exec(this.source) : null;
		// Check for a terminator match
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index))
			{
			// Output any text before the match
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			// Set the match parameters
			this.matchStart = terminatorMatch.index;
			this.matchLength = terminatorMatch[1].length;
			this.matchText = terminatorMatch[1];
			this.nextMatch = terminatorMatch.index + terminatorMatch[1].length;
			// Restore the output pointer and exit
			this.output = oldOutput;
			return;		
			}
		// Check for a formatter match
		else if(formatterMatch)
			{
			// Output any text before the match
			if(formatterMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,formatterMatch.index);
			// Set the match parameters
			this.matchStart = formatterMatch.index;
			this.matchLength = formatterMatch[0].length;
			this.matchText = formatterMatch[0];
			this.nextMatch = this.formatter.formatterRegExp.lastIndex;
			// Figure out which formatter matched
			var matchingformatter = -1;
			for(var t=1; t<formatterMatch.length; t++)
				if(formatterMatch[t])
					matchingFormatter = t-1;
			// Call the formatter
			if(matchingFormatter != -1)
				this.formatter.formatters[matchingFormatter].handler(this);
			}
	} while(terminatorMatch || formatterMatch);
	// Output any text after the last match
	if(this.nextMatch < this.source.length)
		{
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
		}
	// Restore the output pointer
	this.output = oldOutput;
}

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	// Check for highlights
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos))
		{
		// Deal with any plain text before the highlight
		if(this.highlightMatch.index > startPos)
			{
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
			}
		// Deal with the highlight
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		var theHighlight = createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		// Nudge along to the next highlight if we're done with this one
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
		}
	// Do the unhighlighted text left over
	if(startPos < endPos)
		{
		createTiddlyText(place,this.source.substring(startPos,endPos));
		}
}

// ---------------------------------------------------------------------------------
// Macro definitions
// ---------------------------------------------------------------------------------

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text;
	if(params[0])
		text = now.formatString(params[0].trim());
	else
		text = now.toLocaleString();
	createTiddlyElement(place,"span",null,null,text);
}

config.macros.version.handler = function(place)
{
	createTiddlyElement(place,"span",null,null,version.major + "." + version.minor + "." + version.revision + (version.beta ? " (beta " + version.beta + ")" : ""));
}

config.macros.list.handler = function(place,macroName,params)
{
	var type = params[0] ? params[0] : "all";
	var theList = document.createElement("ul");
	place.appendChild(theList);
	if(this[type].prompt)
		createTiddlyElement(theList,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	for (t = 0; t < results.length; t++)
		{
		theListItem = document.createElement("li")
		theList.appendChild(theListItem);
		if(typeof results[t] == "string")
			createTiddlyLink(theListItem,results[t],true);
		else
			createTiddlyLink(theListItem,results[t].title,true);
		}
}

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
}

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
}

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
}

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
}

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags();
	var theDateList = createTiddlyElement(place,"ul",null,null,null);
	if(tags.length == 0)
		createTiddlyElement(theDateList,"li",null,"listTitle",this.noTags);
	for (t=0; t<tags.length; t++)
		{
		var theListItem =createTiddlyElement(theDateList,"li",null,null,null);
		var theTag = createTiddlyButton(theListItem,tags[t][0] + " (" + tags[t][1] + ")",this.tooltip.format([tags[t][0]]),onClickTag);
		theTag.setAttribute("tag",tags[t][0]);
		}
}

config.macros.timeline.handler = function(place,macroName,params)
{
	var field = params[0] ? params[0] : "modified";
	var tiddlers = store.reverseLookup("tags","excludeLists",false,field);
	var lastDay = "";
	for (t=tiddlers.length-1; t>=0; t--)
		{
		var tiddler = tiddlers[t];
		var theDay = tiddler.modified.convertToYYYYMMDDHHMM().substr(0,8);
		if(theDay != lastDay)
			{
			var theDateList = document.createElement("ul");
			place.appendChild(theDateList);
			createTiddlyElement(theDateList,"li",null,"listTitle",tiddler.modified.formatString(this.dateFormat));
			lastDay = theDay;
			}
		var theDateListItem = createTiddlyElement(theDateList,"li",null,"listLink",null);
		theDateListItem.appendChild(createTiddlyLink(place,tiddler.title,true));
		}
}

config.macros.search.handler = function(place,macroName,params)
{
	var lastSearchText = "";
	var searchTimeout = null;
	var doSearch = function(txt)
		{
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		lastSearchText = txt.value;
		};
	var clickHandler = function(e)
		{
		doSearch(this.nextSibling);
		return false;
		};
	var keyHandler = function(e)
		{
		if (!e) var e = window.event;
		switch(e.keyCode)
			{
			case 27:
				this.value = "";
				clearMessage();
				break;
			}
		if((this.value.length > 2) && (this.value != lastSearchText))
			{
			if(searchTimeout)
				clearTimeout(searchTimeout);
			var txt = this;
			searchTimeout = setTimeout(function() {doSearch(txt);},500);
			}
		};
	var focusHandler = function(e)
		{
		this.select();
		};
	var btn = createTiddlyButton(place,this.label,this.prompt,clickHandler);
	var txt = createTiddlyElement(place,"input",null,null,null);
	if(params[0])
		txt.value = params[0];
	txt.onkeyup = keyHandler;
	txt.onfocus = focusHandler;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",this.accessKey);
	txt.setAttribute("autocomplete","off");
	if(config.browser.isSafari)
		{
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
		}
	else
		txt.setAttribute("type","text");
}

config.macros.tiddler.handler = function(place,macroName,params)
{
	var wrapper = createTiddlyElement(place,"span",null,params[1] ? params[1] : null,null);
	var text = store.getTiddlerText(params[0]);
	if(text)
		wikify(text,wrapper,null,store.getTiddler(params[0]));
}

config.macros.tag.handler = function(place,macroName,params)
{
	createTagButton(place,params[0]);
}

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var theList = createTiddlyElement(place,"ul");
	if(params[0] && store.tiddlerExists[params[0]])
		tiddler = store.getTiddler(params[0]);
	var lingo = config.views.wikified.tag;
	var prompt = tiddler.tags.length == 0 ? lingo.labelNoTags : lingo.labelTags;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([tiddler.title]));
	for(var t=0; t<tiddler.tags.length; t++)
		createTagButton(createTiddlyElement(theList,"li"),tiddler.tags[t],tiddler.title);
}

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var theList = createTiddlyElement(place,"ul");
	if(params[0] && store.tiddlerExists(params[0]))
		tiddler = store.getTiddler(params[0]);
	theList.setAttribute("title",this.tooltip.format([tiddler.title]));
	var tagged = store.getTaggedTiddlers(tiddler.title);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([tiddler.title]));
	for(var t=0; t<tagged.length; t++)
		createTiddlyLink(createTiddlyElement(theList,"li"),tagged[t].title,true);
}

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,function () {story.closeAllTiddlers(); return false;});
}

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,function () {story.permaView(); return false;});
}

config.macros.saveChanges.handler = function(place)
{
	if(!readOnly)
		createTiddlyButton(place,this.label,this.prompt,function () {saveChanges(); return false;},null,null,this.accessKey);
}

config.macros.slider.onClickSlider = function(e)
{
	if (!e) var e = window.event;
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate)
		anim.startAnimating(new Slider(n,!isOpen,e.shiftKey || e.altKey,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOptionCookie(cookie);
	return false;
}

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var cookie = cookie ? cookie : "";
	var btn = createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(place,"div",null,"sliderPanel",null);
	panel.setAttribute("cookie",cookie);
	panel.style.display = config.options[cookie] ? "block" : "none";
	return panel;
}

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
}

config.macros.option.onChangeOption = function(e)
{
	var opt = this.getAttribute("option");
	var elementType,valueField;
	if(opt)
		{
		switch(opt.substr(0,3))
			{
			case "txt":
				elementType = "input";
				valueField = "value";
				break;
			case "chk":
				elementType = "input";
				valueField = "checked";
				break;
			}
		config.options[opt] = this[valueField];
		saveOptionCookie(opt);
		var nodes = document.getElementsByTagName(elementType);
		for(var t=0; t<nodes.length; t++)
			{
			var optNode = nodes[t].getAttribute("option");
			if(opt == optNode)
				nodes[t][valueField] = this[valueField];
			}
		}
	return(true);
}

config.macros.option.handler = function(place,macroName,params)
{
	var opt = params[0];
	if(config.options[opt] == undefined)
		return;
	var c;
	switch(opt.substr(0,3))
		{
		case "txt":
			c = document.createElement("input");
			c.onkeyup = this.onChangeOption;
			c.setAttribute("option",opt);
			c.size = 15;
			place.appendChild(c);
			c.value = config.options[opt];
			break;
		case "chk":
			c = document.createElement("input");
			c.setAttribute("type","checkbox");
			c.onclick = this.onChangeOption;
			c.setAttribute("option",opt);
			place.appendChild(c);
			c.checked = config.options[opt];
			break;
		}
}

config.macros.newTiddler.onClick = function()
{
	story.displayTiddler(null,config.macros.newTiddler.title,DEFAULT_EDIT_TEMPLATE);
	story.focusTiddler(config.macros.newTiddler.title,"title");
	return false;
}

config.macros.newTiddler.handler = function(place)
{
	if(!readOnly)
		createTiddlyButton(place,this.label,this.prompt,this.onClick,null,null,this.accessKey);
}

config.macros.newJournal.handler = function(place,macroName,params)
{
	if(!readOnly)
		{
		var now = new Date();
		var title = now.formatString(params[0].trim());
		var createJournal = function() {
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			for(var t=1;t<params.length;t++)
				story.setTiddlerTag(title,params[t],+1);
			story.focusTiddler(title,"text");
			return false;
			};
		createTiddlyButton(place,this.label,this.prompt,createJournal,null,null,this.accessKey);
		}
}

config.macros.sparkline.handler = function(place,macroName,params)
{
	var data = [];
	var min = 0;
	var max = 0;
	for(var t=0; t<params.length; t++)
		{
		var v = parseInt(params[t]);
		if(v < min)
			min = v;
		if(v > max)
			max = v;
		data.push(v);
		}
	if(data.length < 1)
		return;
	var box = createTiddlyElement(place,"span",null,"sparkline",String.fromCharCode(160));
	box.title = data.join(",");
	var w = box.offsetWidth;
	var h = box.offsetHeight;
	box.style.paddingRight = (data.length * 2 - w) + "px";
	box.style.position = "relative";
	for(var d=0; d<data.length; d++)
		{
		var tick = document.createElement("img");
		tick.border = 0;
		tick.className = "sparktick";
		tick.style.position = "absolute";
		tick.src = "data:image/gif,GIF89a%01%00%01%00%91%FF%00%FF%FF%FF%00%00%00%C0%C0%C0%00%00%00!%F9%04%01%00%00%02%00%2C%00%00%00%00%01%00%01%00%40%02%02T%01%00%3B";
		tick.style.left = d*2 + "px";
		tick.style.width = "2px";
		var v = Math.floor(((data[d] - min)/(max-min)) * h);
		tick.style.top = (h-v) + "px";
		tick.style.height = v + "px";
		box.appendChild(tick);
		}
}

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(place,"div",null,cookie,null);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset",null);
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	for(var t=0; t<numTabs; t++)
		{
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
		}
	if(!validTab)
		config.options[cookie] = params[1];
	this.switchTab(tabset,config.options[cookie]);
}

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
}

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null
	var nodes = tabset.childNodes;
	for(var t=0; t<nodes.length; t++)
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab)
			{
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
			}
		else
			nodes[t].className = "tab tabUnselected"
	if(theTab)
		{
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			tabset.parentNode.removeChild(tabset.nextSibling);
		var tabContent = createTiddlyElement(null,"div",null,"tabContents",null);
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie)
			{
			config.options[cookie] = tab;
			saveOptionCookie(cookie);
			}
		}
}

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier)
{
	var terminator = ">>";
	var panel;
	if(wikifier)
		panel = createTiddlyElement(place,"div",null,"gradient",null);
	else
		panel = place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	if(wikifier)
		{
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		var t;
		for(t=0; t<styles.length; t++)
			panel.style[styles[t].style] = styles[t].value;
		}
	var colours = [];
	for(t=1; t<params.length; t++)
		{
		var c = new RGB(params[t]);
		if(c)
			colours.push(c);
		}
	drawGradient(panel,params[0] != "vert",colours);
	if(wikifier)
		wikifier.subWikify(panel,terminator);
	if(document.all)
		{
		panel.style.height = "100%";
		panel.style.width = "100%";
		}
}

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0])
		{
		var m = config;
		var p = params[0].split(".");
		for(var t=0; t<p.length; t++)
			{
			if(p[t] in m)
				m = m[p[t]];
			else
				break;
			}
		createTiddlyText(place,m.toString().format(params.splice(1)));
		}
}

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0] && (tiddler[params[0]] != undefined))
		{
		switch(params[1])
			{
			case undefined:
				highlightify(tiddler[params[0]],place,highlightHack);
				break;
			case "link":
				createTiddlyLink(place,tiddler[params[0]],true);
				break;
			case "wikified":
				wikify(tiddler[params[0]],place,highlightHack,tiddler);
				break;
			case "date":
				if(params[2])
					createTiddlyText(place,tiddler[params[0]].formatString(params[2]));
				else
					createTiddlyText(place,tiddler[params[0]]);
				break;
			}
		}
}

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	if((tiddler instanceof Tiddler) && field && (tiddler[field] != undefined))
		{
		story.setDirty(tiddler.title,true);
		switch(field)
			{
			case "title":
				var e = createTiddlyElement(place,"input");
				e.setAttribute("edit","title");
				e.setAttribute("type","text");
				e.value = tiddler.title;
				e.setAttribute("size","40");
				e.setAttribute("autocomplete","off");
				break;
			case "text":
				var wrapper1 = createTiddlyElement(place,"fieldset",null,"fieldsetFix",null);
				var wrapper2 = createTiddlyElement(wrapper1,"div",null,null,null);
				var e = createTiddlyElement(wrapper2,"textarea");
				e.value = tiddler.text;
				var rows = 10;
				var lines = tiddler.text.match(regexpNewLine);
				var maxLines = Math.max(parseInt(config.options.txtMaxEditRows),5)
				if(lines != null && lines.length > rows)
					rows = lines.length + 5;
				rows = Math.min(rows,maxLines);
				e.setAttribute("rows",rows);
				e.setAttribute("edit","text");
				break;
			case "tags":
				var e = createTiddlyElement(place,"input");
				e.setAttribute("edit","tags");
				e.setAttribute("type","text");
				e.value = tiddler.getTags();
				e.setAttribute("size","40");
				e.setAttribute("autocomplete","off");
				break;
			}
		}
}

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler)
		{
		var title = tiddler.title;
		var lingo = config.views.editor.tagChooser;
		var ontagclick = function(e) {
			if (!e) var e = window.event;
			var tag = this.getAttribute("tag");
			story.setTiddlerTag(title,tag,0);
			return(false);
			};
		var onclick = function(e) {
			if (!e) var e = window.event;
			var popup = Popup.create(this);
			var tags = store.getTags();
			if(tags.length == 0)
				createTiddlyText(createTiddlyElement(popup,"li"),lingo.popupNone);
			for (var t=0; t<tags.length; t++)
				{
				var theTag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),ontagclick);
				theTag.setAttribute("tag",tags[t][0]);
				}
			Popup.show(popup,false);
			e.cancelBubble = true;
			if (e.stopPropagation) e.stopPropagation();
			return(false);
			};
		createTiddlyButton(place,lingo.text,lingo.tooltip,onclick);
		}
}

config.macros.toolbar.createCommand = function(place,command,tiddler,theClass)
{
	if(tiddler instanceof Tiddler)
		{
		var title = tiddler.title;
		var onclick = function(e) {
			if (!e) var e = window.event;
			return command.handler(e,this,title);
			};
		var btn = createTiddlyButton(place,command.text,command.tooltip,onclick);
		if(theClass)
			addClass(btn,theClass);
		}
}

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,theClass,event)
{
	var children = place.getElementsByTagName("a")
	for (var t=0; t<children.length; t++)
		{
		var c = children[t];
		if(hasClass(c,theClass))
			{
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
			}
		}
}

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	for(var t=0; t<params.length; t++)
		{
		var c = params[t];
		var theClass = "";
		switch(c.substr(0,1))
			{
			case "+":
				theClass = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				theClass = "cancelCommand";
				c = c.substr(1);
				break;
			}
		if(c in config.commands)
			this.createCommand(place,config.commands[c],tiddler,theClass);
		}
}

// ---------------------------------------------------------------------------------
// Menu and toolbar commands
// ---------------------------------------------------------------------------------

config.commands.closeTiddler.handler = function(event,src,title)
{
	story.closeTiddler(title,true,event.shiftKey || event.altKey);
	return false;
}

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
}

config.commands.editTiddler.handler = function(event,src,title)
{
	if(!readOnly)
		{
		clearMessage();
		story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
		story.focusTiddler(title,"text");
		return false;
		}
}

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	story.displayTiddler(null,newTitle);
	return false;
}

config.commands.cancelTiddler.handler = function(event,src,title)
{
	story.displayTiddler(null,title);
	return false;
}

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true; 
	if (config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title])); 
	if (deleteIt)
		{
		store.removeTiddler(title);
		story.closeTiddler(title,true,event.shiftKey || event.altKey);
		}
	return false;
}

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
}

config.commands.references.handler = function(event,src,title)
{
	var popup = Popup.create(src);
	if(popup)
		{
		var references = store.getReferringTiddlers(title);
		var c = false;
		for(var r=0; r<references.length; r++)
			if(references[r].title != title)
				{
				createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
				c = true;
				}
		if(!c)
			createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),this.popupNone);
		}
	Popup.show(popup,false);
	event.cancelBubble = true;
	if (event.stopPropagation) event.stopPropagation();
	return true;
}

config.commands.jump.handler = function(event,src,title)
{
	var popup = Popup.create(src);
	if(popup)
		{
		story.forEachTiddler(function(title,element) {
			createTiddlyLink(createTiddlyElement(popup,"li"),title,true);
			});
		}
	Popup.show(popup,false);
	event.cancelBubble = true;
	if (event.stopPropagation) event.stopPropagation();
	return true;
}

// ---------------------------------------------------------------------------------
// Tiddler() object
// ---------------------------------------------------------------------------------

function Tiddler()
{
	this.title = null;
	this.text = null;
	this.modifier = null;
	this.modified = new Date();
	this.created = new Date();
	this.links = [];
	this.tags = [];
	return this;
}

// Load a tiddler from an HTML DIV
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	var text = Tiddler.unescapeLineBreaks(divRef.firstChild ? divRef.firstChild.nodeValue : "");
	var modifier = divRef.getAttribute("modifier");
	var modified = Date.convertFromYYYYMMDDHHMM(divRef.getAttribute("modified"));
	var c = divRef.getAttribute("created");
	var created = c ? Date.convertFromYYYYMMDDHHMM(c) : modified;
	var tags = divRef.getAttribute("tags");
	this.set(title,text,modifier,modified,tags,created);
	return this;
}

// Format the text for storage in an HTML DIV
Tiddler.prototype.saveToDiv = function()
{
	return '<div tiddler="%0" modifier="%1" modified="%2" created="%3" tags="%4">%5</div>'.format([
			this.title.htmlEncode(),
			this.modifier.htmlEncode(),
			this.modified.convertToYYYYMMDDHHMM(),
			this.created.convertToYYYYMMDDHHMM(),
			this.getTags().htmlEncode(),
			this.escapeLineBreaks().htmlEncode()
		]);
}

// Format the text for storage in an RSS item
Tiddler.prototype.saveToRss = function(url)
{
	var s = [];
	s.push("<item>");
	s.push("<title>" + this.title.htmlEncode() + "</title>");
	s.push("<description>" + this.text.replace(regexpNewLine,"<br />").htmlEncode() + "</description>");
	for(var t=0; t<this.tags.length; t++)
		s.push("<category>" + this.tags[t] + "</category>");
	s.push("<link>" + url + "#" + encodeURIComponent(String.encodeTiddlyLink(this.title)) + "</link>");
	s.push("<pubDate>" + this.modified.toGMTString() + "</pubDate>");
	s.push("</item>");
	return(s.join("\n"));
}

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(created != undefined)
		this.created = created;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	this.changed();
	return this;
}

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	if(this.tags)
		{
		var results = [];
		for(var t=0; t<this.tags.length; t++)
			results.push(String.encodeTiddlyLink(this.tags[t]));
		return results.join(" ");
		}
	else
		return "";
}

var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

// Static method to Convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	if(text && text != "")
		return text.replace(regexpBackSlashEn,"\n").replace(regexpBackSlashEss,"\\").replace(regexpCarriageReturn,"");
	else
		return "";
}

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.replace(regexpBackSlash,"\\s").replace(regexpNewLine,"\\n").replace(regexpCarriageReturn,"");
}

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var nextPos = 0;
	var theLink;
	var aliasedPrettyLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
	var prettyLink = "\\[\\[([^\\]]+)\\]\\]";
	var wikiNameRegExp = new RegExp("(" + config.textPrimitives.wikiLink + ")|(?:" + aliasedPrettyLink + ")|(?:" + prettyLink + ")","mg");
	do {
		var formatMatch = wikiNameRegExp.exec(this.text);
		if(formatMatch)
			{
			if(formatMatch[1] && formatMatch[1].substr(0,1) != config.textPrimitives.unWikiLink && formatMatch[1] != this.title)
				this.links.pushUnique(formatMatch[1]);
			else if(formatMatch[2] && store.tiddlerExists(formatMatch[3]))
				this.links.pushUnique(formatMatch[3]);
			else if(formatMatch[4] && formatMatch[4] != this.title)
				this.links.pushUnique(formatMatch[4]);
			}
	} while(formatMatch);
	return;
}

Tiddler.prototype.getSubtitle = function()
{
	var theModifier = this.modifier;
	if(!theModifier)
		theModifier = config.messages.subtitleUnknown;
	var theModified = this.modified;
	if(theModified)
		theModified = theModified.toLocaleString();
	else
		theModified = config.messages.subtitleUnknown;
	return(theModifier + ", " + theModified);
}

// ---------------------------------------------------------------------------------
// TiddlyWiki() object contains Tiddler()s
// ---------------------------------------------------------------------------------

function TiddlyWiki()
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
		};
	this.fetchTiddler = function(title) {
    	return tiddlers[title];
		};
	this.deleteTiddler = function(title) {
	    delete tiddlers[title];
		};
	this.addTiddler = function(tiddler) {
	    tiddlers[tiddler.title] = tiddler;
		};
	this.forEachTiddler = function(callback) {
		for(var t in tiddlers)
			callback.call(this,t,tiddlers[t]);
		};
}

// Set the dirty flag
TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
}

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
}

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
}

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
}

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel)
		for(var t=0; t<this.namedNotifications.length; t++)
			{
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
			}
}

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel)
		for(var t=0; t<this.namedNotifications.length; t++)
			{
			var n = this.namedNotifications[t];
			n.notify(n.name);
			}
}

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	for (var i=0; i<this.namedNotifications.length; i++)
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	this.namedNotifications.push({name: title, notify: fn});
	return this;
}

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		{
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
		}
}

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	var s = config.shadowTiddlers[title];
	return (t != undefined && t instanceof Tiddler) || (s != undefined && s instanceof String);
}

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined && t instanceof Tiddler)
		return t;
	else
		return null;
}

TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title)
		return(defaultText);
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		return tiddler.text;
	else if(config.shadowTiddlers[title])
		return config.shadowTiddlers[title];
	else if(defaultText)
		return defaultText;
	else
		return null;
}

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,defaultText);
	if(text == null)
		return "";
	var textOut = [];
	var lastPos = 0;
	do {
		var match = bracketRegExp.exec(text);
		if(match)
			{
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1])
				{
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],match[1],depth-1));
				}
			lastPos = match.index + match[0].length;
			}
		else
			textOut.push(text.substr(lastPos));
	} while(match);
	return(textOut.join(""));
}

TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags)
{
	var tiddler = this.fetchTiddler(title);
	var created;
	if(tiddler)
		{
 		created = tiddler.created; // preserve created date
		this.deleteTiddler(title);
		}
	else
		{
		tiddler = new Tiddler();
		created = modified;
		}
	tiddler.set(newTitle,newBody,modifier,modified,tags,created);
	this.addTiddler(tiddler);
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
}

TiddlyWiki.prototype.createTiddler = function(title)
{
	tiddler = this.fetchTiddler(title);
	if(!tiddler)
		{
		tiddler = new Tiddler();
        tiddler.title = title;
		this.addTiddler(tiddler);
		this.setDirty(true);
		}
	return tiddler;
}

// Load contents of a tiddlywiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(srcID,idPrefix)
{
	if(document.normalize)
		document.normalize();
	var lenPrefix = idPrefix.length;
	var store = document.getElementById(srcID).childNodes;
	for(var t = 0; t < store.length; t++)
		{
		var e = store[t];
		var title = null;
		if(e.getAttribute)
			title = e.getAttribute("tiddler");
		if(!title && e.id && e.id.substr(0,lenPrefix) == idPrefix)
			title = e.id.substr(lenPrefix);
		if(title && title != "")
			{
			var tiddler = this.createTiddler(title);
			tiddler.loadFromDiv(e,title);
			}
		}
	this.setDirty(false);
}

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag)
{
	var candidates = this.reverseLookup("tags",excludeTag,false);
	var results = [];
	for(var t=0; t<candidates.length; t++)
		{
		if(searchRegExp.test(candidates[t].title) || searchRegExp.test(candidates[t].text))
			results.push(candidates[t]);
		}
	if(!sortField)
		sortField = "title";
	results.sort(function (a,b) {if(a[sortField] == b[sortField]) return(0); else return (a[sortField] < b[sortField]) ? -1 : +1; });
	return results;
}

// Return an array of all the tags in use. Each member of the array is another array where [0] is the name of the tag and [1] is the number of occurances
TiddlyWiki.prototype.getTags = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		for(var g=0; g<tiddler.tags.length; g++)
			{
			var tag = tiddler.tags[g];
			var f = false;
			for(var c=0; c<results.length; c++)
				if(results[c][0] == tag)
					{
					f = true;
					results[c][1]++;
					}
			if(!f)
				results.push([tag,1]);
			}
		});
	results.sort(function (a,b) {if(a[0].toLowerCase() == b[0].toLowerCase()) return(0); else return (a[0].toLowerCase() < b[0].toLowerCase()) ? -1 : +1; });
	return results;
}

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
}

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	return this.reverseLookup("links",title,true,sortField);
}

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		for(var lookup=0; lookup<tiddler[lookupField].length; lookup++)
			if(tiddler[lookupField][lookup] == lookupValue)
				f = lookupMatch;
		if(f)
			results.push(tiddler);
		});
	if(!sortField)
		sortField = "title";
	results.sort(function (a,b) {if(a[sortField] == b[sortField]) return(0); else return (a[sortField] < b[sortField]) ? -1 : +1; });
	return results;
}

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		results.push(tiddler);
		});
	if(field)
		results.sort(function (a,b) {if(a[field] == b[field]) return(0); else return (a[field] < b[field]) ? -1 : +1; });
	return results;
}

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function(sortField)
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.tags.find("systemConfig") == null && tiddler.tags.find("excludeMissing") == null)
			for(var n=0; n<tiddler.links.length;n++)
				{
				var link = tiddler.links[n];
				if(this.fetchTiddler(link) == null)
					results.pushUnique(link);
				}
		});
	results.sort();
	return results;
}

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0)
			results.push(title);
		});
	results.sort();
	return results;
}

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getShadowed = function()
{
	var results = [];
	for(var t in config.shadowTiddlers)
		if(typeof config.shadowTiddlers[t] == "string")
			results.push(t);
	results.sort();
	return results;
}

// ---------------------------------------------------------------------------------
// Story functions
// ---------------------------------------------------------------------------------

function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,slowly)
{
	story.displayTiddlers(srcElement,titles,template,animate,slowly);
}

function displayTiddler(srcElement,title,template,unused1,unused2,animate,slowly)
{
	story.displayTiddler(srcElement,title,template,animate,slowly);
}

// A story is a HTML div containing a sequence of tiddlers that can be manipulated
// container - id of containing element
// idPrefix - string prefix prepended to title to make ids for tiddlers in this story
function Story(container,idPrefix)
{
	this.container = container;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
}

// Iterate through all the tiddlers in a story
// fn - callback function to be called for each tiddler. Arguments are:
//      tiddler - reference to Tiddler object
//      element - reference to tiddler display element
Story.prototype.forEachTiddler = function(fn)
{
	var place = document.getElementById(this.container);
	var e = place.firstChild;
	while(e)
		{
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		fn.call(this,title,e);
		e = n;
		}
}

// Display several tiddlers given their titles in an array. Parameters same as displayTiddler(), except:
// titles - array of string titles
Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,slowly)
{
	for(var t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,slowly);
}

// Display a given tiddler with a given template. If the tiddler is already displayed but with a different
// template, it is switched to the specified template
// srcElement - reference to element from which this one is being opened
// title - title of tiddler to display
// template - the name of the tiddler containing the template or one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE
// animate - whether to perform animations
// slowly - whether to perform animations in slomo
Story.prototype.displayTiddler = function(srcElement,title,template,animate,slowly)
{
	var place = document.getElementById(this.container);
	var theTiddler = document.getElementById(this.idPrefix + title);
	if(theTiddler)
		this.refreshTiddler(title,template);
	else
		{
		var before;
		var after = this.findContainingTiddler(srcElement);
		if(after == null)
			before = place.firstChild;
		else if(after.nextSibling)
			before = after.nextSibling;
		else
			before = null;
		theTiddler = this.createTiddler(place,before,title,template);
		}
	if(srcElement)
		{
		if(config.options.chkAnimate && (animate == undefined || animate == true))
			anim.startAnimating(new Cascade(title,srcElement,theTiddler,slowly),new Scroller(theTiddler,slowly));
		else
			window.scrollTo(0,ensureVisible(theTiddler));
		}
}

// Create a tiddler frame at the appropriate place in a story column
// place - reference to parent element
// before - null, or reference to element before which to insert new tiddler
// title - title of new tiddler
// template - the name of the tiddler containing the template or one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE
Story.prototype.createTiddler = function(place,before,title,template)
{
	theTiddler = createTiddlyElement(null,"div",this.idPrefix + title,"tiddler",null);
	place.insertBefore(theTiddler,before);
	this.refreshTiddler(title,template);
	return theTiddler;
}

// Overridable for choosing the name of the template to apply for a tiddler
Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
}

// Overridable for extracting the text of a template from a tiddler
Story.prototype.getTemplateForTiddler = function(title,template)
{
	return store.getTiddlerText(template);
}

// Apply a template to an existing tiddler if it is not already displayed using that template
// title - title of tiddler to update
// template - the name of the tiddler containing the template or one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE
// force - if true, forces the refresh even if the template hasn't changedd
Story.prototype.refreshTiddler = function(title,template,force)
{
	var theTiddler = document.getElementById(this.idPrefix + title);
	if(theTiddler)
		{
		theTiddler.setAttribute("dirty","false");
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = theTiddler && theTiddler.getAttribute("template");
		if((template != currTemplate) || force)
			{
			var tiddler = store.getTiddler(title);
			if(!tiddler)
				{
				tiddler = new Tiddler();
				if(config.shadowTiddlers[title])
					tiddler.set(title,config.shadowTiddlers[title],config.views.wikified.shadowModifier,version.date,[],version.date);
				else
					tiddler.set(title,config.views.wikified.defaultText.format([title]),config.views.wikified.defaultModifier,version.date,[],version.date);
				}
			theTiddler.setAttribute("tags",tiddler.tags.join(" "));
			theTiddler.setAttribute("tiddler",title);
			theTiddler.setAttribute("template",template);
			theTiddler.onmouseover = function(e) {
				if(window.addClass instanceof Function)
					addClass(this,"selected");
				};
			theTiddler.onmouseout = function(e) {
				if(window.removeClass instanceof Function)
					removeClass(this,"selected");
				};
			theTiddler.ondblclick = function(e) {
				if (!e) var e = window.event;
				var theTarget = resolveTarget(e);
				if(!readOnly && theTarget && theTarget.nodeName.toLowerCase() != "input" && theTarget.nodeName.toLowerCase() != "textarea")
					{
					if(document.selection && document.selection.empty)
						document.selection.empty();
					config.macros.toolbar.invokeCommand(theTiddler,"defaultCommand",e);
					e.cancelBubble = true;
					if (e.stopPropagation) e.stopPropagation();
					return true;
					}
				else
					return false;
				};
			theTiddler.onkeypress = function(e) {
				if (!e) var e = window.event;
				clearMessage();
				var consume = false;
				switch(e.keyCode)
					{
					case 13: // Ctrl-Enter
					case 10: // Ctrl-Enter on IE PC
					case 77: // Ctrl-Enter is "M" on some platforms
						if(e.ctrlKey)
							{
							config.macros.toolbar.invokeCommand(theTiddler,"defaultCommand",e);
							consume = true;
							}
						break;
					case 27: // Escape
						config.macros.toolbar.invokeCommand(theTiddler,"cancelCommand",e);
						consume = true;
						break;
					}
				e.cancelBubble = consume;
				if(consume)
					if (e.stopPropagation) e.stopPropagation();
				return(!consume);
				};
			var html = this.getTemplateForTiddler(title,template);
			theTiddler.innerHTML = html;
			applyHtmlMacros(theTiddler,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				addClass(theTiddler,"isTag");
			else
				removeClass(theTiddler,"isTag");
			if(!store.tiddlerExists(title))
				{
				if(typeof config.shadowTiddlers[title] == "string")
					addClass(theTiddler,"shadow");
				else
					addClass(theTiddler,"missing");
				}
			else
				{
				removeClass(theTiddler,"shadow");
				removeClass(theTiddler,"missing");
				}
			}
		}
	return(theTiddler);
}

// Focus a specified tiddler. Attempts to focus the specified field, otherwise the first edit field it finds
Story.prototype.focusTiddler = function(title,field)
{
	var tiddler = document.getElementById(this.idPrefix + title);
	if(tiddler != null)
		{
		var children = tiddler.getElementsByTagName("*")
		var e = null;
		for (var t=0; t<children.length; t++)
			{
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea")
				{
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
				}
			}
		if(e)
			{
			e.focus();
			e.select();
			}
		}
}

// Adds a specified tag to the edit controls (if any) for a particular tiddler)
// title - name of tiddler
// tag - name of tag, without any [[brackets]]
// mode - +1 to add the tag, -1 to remove it, 0 to toggle it
Story.prototype.setTiddlerTag = function(title,tag,add)
{
	var tiddler = document.getElementById(this.idPrefix + title);
	if(tiddler != null)
		{
		var children = tiddler.getElementsByTagName("input")
		for (var t=0; t<children.length; t++)
			{
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" && c.getAttribute("edit") == "tags")
				{
				var tags = c.value.readBracketedList();
				var p = tags.find(tag);
				if(add == +1)
					{
					if(p == null)
						tags.push(tag);
					}
				else if(add == -1)
					{
					if(p != null)
						tags.splice(p,1);
					}
				else if(add == 0)
					{
					if(p != null)
						tags.splice(p,1);
					else
						tags.push(tag);
					}
				var result = [];
				for(var r=0; r<tags.length; r++)
					result.push(String.encodeTiddlyLink(tags[r]));
				c.value = result.join(" ");
				}
			}
		}
}

// Close a specified tiddler
// title - name of tiddler to close
// animate - whether to perform animations
// slowly - whether to perform animations in slomo
Story.prototype.closeTiddler = function(title,animate,slowly)
{
	var tiddler = document.getElementById(this.idPrefix + title);
	if(tiddler != null)
		{
		clearMessage();
		this.scrubTiddler(tiddler);
		if(config.options.chkAnimate && animate)
			anim.startAnimating(new Slider(tiddler,false,slowly,"all"));
		else
			tiddler.parentNode.removeChild(tiddler);
		}
}

// Scrub IDs from a tiddler. This is so that the 'ghost' of a tiddler while it is being closed
// does not interfere with things
// tiddler - reference to the tiddler element
Story.prototype.scrubTiddler = function(tiddler)
{
	tiddler.id = null;
}

// Set the 'dirty' flag of a tiddler
// tiddler - title of tiddler to change
// dirty - new boolean status of flag
Story.prototype.setDirty = function(title,dirty)
{
	var tiddler = document.getElementById(this.idPrefix + title);
	if(tiddler != null)
		tiddler.setAttribute("dirty",dirty ? "true" : "false");
}

// Close all tiddlers in the story
Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
		});
}

// Perform a search and display the result
// text - text to search for
// useCaseSensitive - true for case sensitive matching
// useRegExp - true to interpret text as a RegExp
Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ? text.escapeRegExp() : text,useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	for(var t=matches.length-1; t>=0; t--)
		this.displayTiddler(null,matches[t].title);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([matches.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
}

// Determine if the specified element is within a tiddler in this story
// e - reference to an element
// returns: reference to a tiddler element or null if none
Story.prototype.findContainingTiddler = function(e)
{
	while(e && !hasClass(e,"tiddler"))
		e = e.parentNode;
	return(e);
}

// Gather any saveable fields from a tiddler element
// e - reference to an element to scan recursively
// fields - object to contain gathered field values
Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute)
		{
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");;
		if(e.hasChildNodes())
			{
			var c = e.childNodes;
			for(var t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields)
			}
		}
}

// Save any open edit fields of a tiddler and updates the display as necessary
// title - name of tiddler
// minorUpdate - true if the modified date shouldn't be updated
// returns: title of saved tiddler, or null if not saved
Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddler = document.getElementById(this.idPrefix + title);
	if(tiddler != null)
		{
		var fields = {};
		this.gatherSaveFields(tiddler,fields);
		var newTitle = fields.title ? fields.title : title;
		if(store.tiddlerExists(newTitle) && newTitle != title)
			{
			if(confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				this.closeTiddler(newTitle,false,false);
			else
				return null;
			}
		tiddler.id = this.idPrefix + newTitle;
		tiddler.setAttribute("tiddler",newTitle);
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		var newDate = new Date();
		store.saveTiddler(title,newTitle,fields.text,config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags);
		if(config.options.chkAutoSave)
			saveChanges();
		return newTitle;
		}
	return null;
}

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
		});
	window.location.hash = encodeURIComponent(links.join(" "));
}

// ---------------------------------------------------------------------------------
// Message area
// ---------------------------------------------------------------------------------

function displayMessage(text,linkText)
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		{
		alert(text);
		return;
		}
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),config.messages.messageClose.text,config.messages.messageClose.tooltip,clearMessage);
	var msg;
	if(linkText)
		{
		msg = createTiddlyElement(msgArea,"div",null,null,null);
		var link = createTiddlyElement(msg,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
		}
	else
		msg = createTiddlyElement(msgArea,"div",null,null,text);
	msgArea.style.display = "block";
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	removeChildren(msgArea);
	msgArea.style.display = "none";
}

// ---------------------------------------------------------------------------------
// Refresh mechanism
// ---------------------------------------------------------------------------------

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		},
		
	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		if(force != null || changeList == null || changeList.find(title) != null)
			{
			removeChildren(e);
			wikify(store.getTiddlerText(title,title),e,null,null);
			}
		}
};

function refreshElements(root,changeList)
{
    var nodes = root.childNodes;
    for(var c=0; c<nodes.length; c++)
		{
		var e = nodes[c],type;
		if(e.getAttribute)
			type = e.getAttribute("refresh");
		else
			type = null;
		var refresher = config.refreshers[type];
		if(refresher == undefined)
			{
			if(e.hasChildNodes())
				refreshElements(e,changeList);
			}
		else
			refresher(e,changeList);
		}
}

function applyHtmlMacros(root,tiddler)
{
    var e = root.firstChild;
    while(e)
		{
		var nextChild = e.nextSibling;
		if(e.getAttribute)
			{
			var macro = e.getAttribute("macro");
			if(macro)
				{
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1)
					{
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
					}
				invokeMacro(e,macro,params,null,tiddler);
				}
			}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
		}
}

function refreshPageTemplate(title)
{
	var stash = createTiddlyElement(document.body,"div");
	stash.style.display = "none";
	var display = document.getElementById("tiddlerDisplay");
	var nodes;
	if(display)
		{
		nodes = display.childNodes;
		for(var t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
		}
	var wrapper = document.getElementById("contentWrapper");
	if(!title)
		title = "PageTemplate";
	var html = store.getTiddlerText(title);
	wrapper.innerHTML = html;
	applyHtmlMacros(wrapper,null);
	refreshElements(wrapper,null);
	display = document.getElementById("tiddlerDisplay");
	if(!display)
		display = createTiddlyElement(wrapper,"div","tiddlerDisplay");
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	stash.parentNode.removeChild(stash);
}

function refreshDisplay(hint)
{
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint == null ? null : [hint]);
}

function refreshPageTitle()
{
	document.title = wikifyPlain("SiteTitle") + " - " + wikifyPlain("SiteSubtitle");
}

function refreshStyles(title)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title);
}

// ---------------------------------------------------------------------------------
// Options cookie stuff
// ---------------------------------------------------------------------------------

function loadOptionsCookie()
{
	var cookies = document.cookie.split(";");
	for(var c=0; c<cookies.length; c++)
		{
		var p = cookies[c].indexOf("=");
		if(p != -1)
			{
			var name = cookies[c].substr(0,p).trim();
			var value = cookies[c].substr(p+1).trim();
			switch(name.substr(0,3))
				{
				case "txt":
					config.options[name] = unescape(value);
					break;
				case "chk":
					config.options[name] = value == "true";
					break;
				}
			}
		}
}

function saveOptionCookie(name)
{
	var c = name + "=";
	switch(name.substr(0,3))
		{
		case "txt":
			c += escape(config.options[name].toString());
			break;
		case "chk":
			c += config.options[name] ? "true" : "false";
			break;
		}
	c += "; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/";
	document.cookie = c;
}

// ---------------------------------------------------------------------------------
// Saving
// ---------------------------------------------------------------------------------

var saveUsingSafari = false;
var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var endSaveArea = '</d' + 'iv>';

// Check if there any unsaved changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty())
		{
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
		}
}

// Save this tiddlywiki with the pending changes
function saveChanges()
{
	clearMessage();
	// Get the URL of the document
	var originalPath = document.location.toString();
	// Check we were loaded from a file URL
	if(originalPath.substr(0,5) != "file:")
		{
		alert(config.messages.notFileUrlError);
		displayTiddler(null,"SaveChanges");
		return;
		}
	// Remove any location part of the URL
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert to a native file format assuming
	// "file:///x:/path/path/path..." - pc local file --> "x:\path\path\path..."
	// "file://///server/share/path/path/path..." - FireFox pc network file --> "\\server\share\path\path\path..."
	// "file:///path/path/path..." - mac/unix local file --> "/path/path/path..."
	// "file://server/share/path/path/path..." - pc network file --> "\\server\share\path\path\path..."
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	// Load the original file
	var original = loadFile(localPath);
	if(original == null)
		{
		alert(config.messages.cantSaveError);
		displayTiddler(null,"SaveChanges");
		return;
		}
	// Locate the storeArea div's
	var posOpeningDiv = original.indexOf(startSaveArea);
	var posClosingDiv = original.lastIndexOf(endSaveArea);
	if((posOpeningDiv == -1) || (posClosingDiv == -1))
		{
		alert(config.messages.invalidFileError.format([localPath]));
		return;
		}
	// Save the backup
	if(config.options.chkSaveBackups)
		{
		var backupPath = localPath.substr(0,localPath.lastIndexOf(".")) + "." + (new Date()).convertToYYYYMMDDHHMMSSMMM() + ".html";
		var backup = saveFile(backupPath,original);
		if(backup)
			displayMessage(config.messages.backupSaved,"file://" + backupPath);
		else
			alert(config.messages.backupFailed);
		}
	// Save Rss
	if(config.options.chkGenerateAnRssFeed)
		{
		var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
		var rssSave = saveFile(rssPath,convertUnicodeToUTF8(generateRss()));
		if(rssSave)
			displayMessage(config.messages.rssSaved,"file://" + rssPath);
		else
			alert(config.messages.rssFailed);
		}
	// Save empty template
	if(config.options.chkSaveEmptyTemplate)
		{
		var emptyPath,p;
		if((p = localPath.lastIndexOf("/")) != -1)
			emptyPath = localPath.substr(0,p) + "/empty.html";
		else if((p = localPath.lastIndexOf("\\")) != -1)
			emptyPath = localPath.substr(0,p) + "\\empty.html";
		else
			emptyPath = localPath + ".empty.html";
		var empty = original.substr(0,posOpeningDiv + startSaveArea.length) + convertUnicodeToUTF8(generateEmpty()) + original.substr(posClosingDiv);
		var emptySave = saveFile(emptyPath,empty);
		if(emptySave)
			displayMessage(config.messages.emptySaved,"file://" + emptyPath);
		else
			alert(config.messages.emptyFailed);
		}
	// Save new file
	var revised = original.substr(0,posOpeningDiv + startSaveArea.length) + 
				convertUnicodeToUTF8(allTiddlersAsHtml()) + "\n\t\t" +
				original.substr(posClosingDiv);
	var newSiteTitle = convertUnicodeToUTF8((wikifyPlain("SiteTitle") + " - " + wikifyPlain("SiteSubtitle")).htmlEncode());
	revised = revised.replace(new RegExp("<title>[^<]*</title>", "im"),"<title>"+ newSiteTitle +"</title>");
	var save = saveFile(localPath,revised);
	if(save)
		{
		displayMessage(config.messages.mainSaved,"file://" + localPath);
		store.setDirty(false);
		}
	else
		alert(config.messages.mainFailed);
}

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl",null);
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title>" + wikifyPlain("SiteTitle").htmlEncode() + "</title>");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlain("SiteSubtitle").htmlEncode() + "</description>");
	s.push("<language>en-us</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + version.major + "." + version.minor + "." + version.revision + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified");
	var n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for (var t=tiddlers.length-1; t>=n; t--)
		s.push(tiddlers[t].saveToRss(u));
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

function generateEmpty()
{
	var systemTiddlers = store.getTaggedTiddlers("systemTiddlers");
	var savedTiddlers = [];
	for(var s=0;s<systemTiddlers.length;s++)
		savedTiddlers.push(systemTiddlers[s].saveToDiv());
	return savedTiddlers.join("\n");
}

function allTiddlersAsHtml()
{
	var savedTiddlers = [];
	var tiddlers = store.getTiddlers("title");
	for (var t = 0; t < tiddlers.length; t++)
		savedTiddlers.push(tiddlers[t].saveToDiv());
	return savedTiddlers.join("\n");
}

// UTF-8 encoding rules:
// 0x0000 - 0x007F:	0xxxxxxx
// 0x0080 - 0x07FF:	110xxxxx 10xxxxxx
// 0x0800 - 0xFFFF:	1110xxxx 10xxxxxx 10xxxxxx

function convertUTF8ToUnicode(u)
{
	var s = "";
	var t = 0;
	var b1, b2, b3;
	while(t < u.length)
		{
		b1 = u.charCodeAt(t++);
		if(b1 < 0x80)
			s += String.fromCharCode(b1);
		else if(b1 < 0xE0)
			{
			b2 = u.charCodeAt(t++);
			s += String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			}
		else
			{
			b2 = u.charCodeAt(t++);
			b3 = u.charCodeAt(t++);
			s += String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			}
	}
	return(s);
}

function convertUnicodeToUTF8(s)
{
	if(saveUsingSafari)
		return s;
	else if(window.Components)
		return mozConvertUnicodeToUTF8(s);
	else
		return manualConvertUnicodeToUTF8(s);
}

function manualConvertUnicodeToUTF8(s)
{
	var re = /[^\u0000-\u007F]/g ;
	return s.replace(re, function($0) {return("&#" + $0.charCodeAt(0).toString() + ";");})
}

function mozConvertUnicodeToUTF8(s)
{
	netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
	var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
	converter.charset = "UTF-8";
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	if(fin.length > 0)
		return u + fin;
	else
		return u;
}

function saveFile(fileUrl, content)
{
	var r = null;
	if(saveUsingSafari)
		r = safariSaveFile(fileUrl, content);
	if((r == null) || (r == false))
		r = mozillaSaveFile(fileUrl, content);
	if((r == null) || (r == false))
		r = ieSaveFile(fileUrl, content);
	if((r == null) || (r == false))
		r = operaSaveFile(fileUrl, content);
	return(r);
}

function loadFile(fileUrl)
{
	var r = null;
	if(saveUsingSafari)
		r = safariLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = operaLoadFile(fileUrl);
	return(r);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath, content)
{
	try
		{
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		}
	catch(e)
		{
		//alert("Exception while attempting to save\n\n" + e.toString());
		return(null);
		}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return(true);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try
		{
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
		}
	catch(e)
		{
		//alert("Exception while attempting to load\n\n" + e.toString());
		return(null);
		}
	return(content);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath, content)
{
	if(window.Components)
		try
			{
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if (!file.exists())
				file.create(0, 0664);
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file, 0x20 | 0x02, 00004,null);
			out.write(content, content.length);
			out.flush();
			out.close();
			return(true);
			}
		catch(e)
			{
			//alert("Exception while attempting to save\n\n" + e);
			return(false);
			}
	return(null);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components)
		try
			{
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if (!file.exists())
				return(null);
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file, 0x01, 00004, null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			return(sInputStream.read(sInputStream.available()));
			}
		catch(e)
			{
			//alert("Exception while attempting to load\n\n" + e);
			return(false);
			}
	return(null);
}

function operaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	if(i > 0)
		return url.substring(i-1);
	return url;
}

function operaSaveFile(filePath, content)
{
	try
		{
		var s = new java.io.PrintStream(new java.io.FileOutputStream(operaUrlToFilename(filePath)));
		s.print(content);
		s.close();
		}
	catch(e)
		{
		if(window.opera)
			opera.postError(e);
		return null;
		}
	return true;
}

function operaLoadFile(filePath)
{
	var content = [];
	try
		{
		var r = new java.io.BufferedReader(new java.io.FileReader(operaUrlToFilename(filePath)));
		var line;
		while ((line = r.readLine()) != null)
			content.push(new String(line));
		r.close();
		}
	catch(e)
		{
		if(window.opera)
			opera.postError(e);
		return null;
		}
	return content.join("\n");
}

function safariFilenameToUrl(filename) {
	return ("file://" + filename);
}

function safariLoadFile(url)
{
	url = safariFilenameToUrl(url);
	var plugin = document.embeds["tiddlyWikiSafariSaver"];
	return plugin.readURL(url);
}

function safariSaveFile(url,content)
{
	url = safariFilenameToUrl(url);
	var plugin = document.embeds["tiddlyWikiSafariSaver"];
	return plugin.writeStringToURL(content,url);
}

// Lifted from http://developer.apple.com/internet/webcontent/detectplugins.html
function detectPlugin()
{
	var daPlugins = detectPlugin.arguments;
	var pluginFound = false;
	if (navigator.plugins && navigator.plugins.length > 0)
		{
		var pluginsArrayLength = navigator.plugins.length;
		for (pluginsArrayCounter=0; pluginsArrayCounter < pluginsArrayLength; pluginsArrayCounter++ )
			{
			var numFound = 0;
			for(namesCounter=0; namesCounter < daPlugins.length; namesCounter++)
				{
				if( (navigator.plugins[pluginsArrayCounter].name.indexOf(daPlugins[namesCounter]) >= 0) || 
						(navigator.plugins[pluginsArrayCounter].description.indexOf(daPlugins[namesCounter]) >= 0) )
					numFound++;
				}
			if(numFound == daPlugins.length)
				{
				pluginFound = true;
				break;
				}
			}
	}
	return pluginFound;
}

// ---------------------------------------------------------------------------------
// TiddlyWiki-specific utility functions
// ---------------------------------------------------------------------------------

function createTiddlyButton(theParent,theText,theTooltip,theAction,theClass,theId,theAccessKey)
{
	var theButton = document.createElement("a");
	theButton.className = "button";
	if(theAction)
		{
		theButton.onclick = theAction;
		theButton.setAttribute("href","javascript:;");
		}
	theButton.setAttribute("title",theTooltip);
	if(theText)
		theButton.appendChild(document.createTextNode(theText));
	if(theClass)
		theButton.className = theClass;
	if(theId)
		theButton.id = theId;
	if(theParent)
		theParent.appendChild(theButton);
	if(theAccessKey)
		theButton.setAttribute("accessKey",theAccessKey);
	return(theButton);
}

function createTiddlyLink(place,title,includeText,theClass)
{
	var text = includeText ? title : null;
	var btn = createTiddlyButton(place,text,null,onClickTiddlerLink,theClass);
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	refreshTiddlyLink(btn,title);
	return(btn);
}

function refreshTiddlyLink(e,title)
{
	var subTitle, theClass = "tiddlyLink";
	if(store.tiddlerExists(title))
		{
		subTitle = store.fetchTiddler(title).getSubtitle();
		theClass += " tiddlyLinkExisting";
		}
	else
		{
		subTitle = config.messages.undefinedTiddlerToolTip.format([title]);
		theClass += " tiddlyLinkNonExisting";
		if(typeof config.shadowTiddlers[title] == "string")
			{
			subTitle = config.messages.shadowedTiddlerToolTip.format([title]);
			theClass += " shadow";
			}
		else
			subTitle = config.messages.undefinedTiddlerToolTip.format([title]);
		}
	e.className = theClass;
	e.title = subTitle;
}

function createExternalLink(place,url)
{
	var theLink = document.createElement("a");
	theLink.className = "externalLink";
	theLink.href = url;
	theLink.title = config.messages.externalLinkTooltip.format([url]);
	if(config.options.chkOpenInNewWindow)
		theLink.target = "_blank";
	place.appendChild(theLink);
	return(theLink);
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	var theLink = theTarget;
	var title = null;
	do {
		title = theLink.getAttribute("tiddlyLink");
		theLink = theLink.parentNode;
	} while(title == null && theLink != null);
	if(title)
		{
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		var opening;
		if(toggling && document.getElementById("tiddler" + title))
			story.closeTiddler(title,true,e.shiftKey || e.altKey);
		else
			story.displayTiddler(theTarget,title,null,true,e.shiftKey || e.altKey);
		}
	clearMessage();
	return(false);
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler)
{
	var theTag = createTiddlyButton(place,tag,config.views.wikified.tag.tooltip.format([tag]),onClickTag);
	theTag.setAttribute("tag",tag);
	if(excludeTiddler)
		theTag.setAttribute("tiddler",excludeTiddler);
	return(theTag);
}

// Event handler for clicking on a tiddler tag
function onClickTag(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	var popup = Popup.create(this);
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag)
		{
		var tagged = store.getTaggedTiddlers(tag);
		var titles = [];
		var li,r;
		for(r=0;r<tagged.length;r++)
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		var lingo = config.views.wikified.tag;
		if(titles.length > 0)
			{
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			createTiddlyElement(createTiddlyElement(popup,"li"),"hr");
			for(r=0; r<titles.length; r++)
				{
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
				}
			}
		else
			createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),lingo.popupNone.format([tag]));
		createTiddlyElement(createTiddlyElement(popup,"li"),"hr");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
		}
	Popup.show(popup,false);
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	return(false);
}

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(e)
{
	if (!e) var e = window.event;
	var tag = this.getAttribute("tag");
	var tagged = store.getTaggedTiddlers(tag);
	for(var t=tagged.length-1; t>=0; t--)
		story.displayTiddler(this,tagged[t].title,null,false,e.shiftKey || e.altKey);
	return(false);
}

function createTiddlyError(place,title,text)
{
	var onclick = function(e) {
		if (!e) var e = window.event;
		var popup = Popup.create(this);
		var lines = text.split("\n");
		for(var t=0; t<lines.length; t++)
			createTiddlyElement(popup,"li",null,null,lines[t]);
		Popup.show(popup,false);
		e.cancelBubble = true;
		if (e.stopPropagation) e.stopPropagation();
		return false;
		};
	var btn = createTiddlyButton(place,title,null,onclick,"errorButton");
}

// ---------------------------------------------------------------------------------
// Animation engine
// ---------------------------------------------------------------------------------

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() // Variable number of arguments
{
	for(var t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0)
		{
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},5);
		}
	this.running += arguments.length;
}

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length)
		{
		var animation = me.animations[a];
		if(animation.tick())
			a++;
		else
			{
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
			}
		}
}

// Map a 0..1 value to 0..1, but slow down at the start and end
Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
}

// ---------------------------------------------------------------------------------
// Zoomer animation
// ---------------------------------------------------------------------------------

function Zoomer(text,startElement,targetElement,slowly)
{
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	this.element = document.createElement("div");
	this.element.appendChild(document.createTextNode(text));
	this.element.className = "zoomer";
	document.body.appendChild(this.element);
	this.startElement = startElement;
	this.startLeft = findPosX(this.startElement);
	this.startTop = findPosY(this.startElement);
	this.startWidth = Math.min(this.startElement.offsetWidth,winWidth);
	this.startHeight = Math.min(this.startElement.offsetHeight,winHeight);
	this.targetElement = targetElement;
	this.targetLeft = findPosX(this.targetElement);
	this.targetTop = findPosY(this.targetElement);
	this.targetWidth = Math.min(this.targetElement.offsetWidth,winWidth);
	this.targetHeight = Math.min(this.targetElement.offsetHeight,winHeight);
	this.progress = 0;
	this.step = slowly ? config.animSlow : config.animFast;
	//this.targetElement.style.opacity = 0;
	//this.targetElement.style.filter = "alpha(opacity:0)";
	return this;
}

Zoomer.prototype.tick = function()
{
	this.progress += this.step;
	if(this.progress > 1)
		{
		this.element.parentNode.removeChild(this.element);
		//this.targetElement.style.opacity = 1;
		//this.targetElement.style.filter = "alpha(opacity:100)";
		return false;
		}
	else
		{
		var f = Animator.slowInSlowOut(this.progress);
		this.element.style.left = this.startLeft + (this.targetLeft-this.startLeft) * f + "px";
		this.element.style.top = this.startTop + (this.targetTop-this.startTop) * f + "px";
		this.element.style.width = this.startWidth + (this.targetWidth-this.startWidth) * f + "px";
		this.element.style.height = this.startHeight + (this.targetHeight-this.startHeight) * f + "px";
		this.element.style.display = "block";
		//this.targetElement.style.opacity = this.progress;
		//this.targetElement.style.filter = "alpha(opacity:" + this.progress * 100 + ")";
		return true;
		}
}

// ---------------------------------------------------------------------------------
// Cascade animation
// ---------------------------------------------------------------------------------

function Cascade(text,startElement,targetElement,slowly)
{
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	this.elements = [];
	this.startElement = startElement;
	this.startLeft = findPosX(this.startElement);
	this.startTop = findPosY(this.startElement);
	this.startWidth = Math.min(this.startElement.offsetWidth,winWidth);
	this.startHeight = Math.min(this.startElement.offsetHeight,winHeight);
	this.targetElement = targetElement;
	targetElement.style.position = "relative";
	targetElement.style.zIndex = 2;
	this.targetLeft = findPosX(this.targetElement);
	this.targetTop = findPosY(this.targetElement);
	this.targetWidth = Math.min(this.targetElement.offsetWidth,winWidth);
	this.targetHeight = Math.min(this.targetElement.offsetHeight,winHeight);
	this.progress = -1;
	this.steps = slowly ? config.cascadeSlow : config.cascadeFast;
	this.text = text;
	this.tick();
	return this;
}

Cascade.prototype.tick = function()
{
	this.progress++;
	if(this.progress >= this.steps)
		{
		while(this.elements.length > 0)
			this.removeTail();
		this.targetElement.style.position = "static";
		this.targetElement.style.zIndex = null;
		return false;
		}
	else
		{
		if(this.elements.length > 0 && this.progress > config.cascadeDepth)
			this.removeTail();
		if(this.progress < (this.steps - config.cascadeDepth))
			{
			var f = Animator.slowInSlowOut(this.progress/(this.steps - config.cascadeDepth - 1));
			var e = createTiddlyElement(document.body,"div",null,"cascade",this.text);
			e.style.zIndex = 1;
			e.style.left = this.startLeft + (this.targetLeft-this.startLeft) * f + "px";
			e.style.top = this.startTop + (this.targetTop-this.startTop) * f + "px";
			e.style.width = this.startWidth + (this.targetWidth-this.startWidth) * f + "px";
			e.style.height = this.startHeight + (this.targetHeight-this.startHeight) * f + "px";
			e.style.display = "block";
			this.elements.push(e);
			}
		return true;
		}
}

Cascade.prototype.removeTail = function()
{
	var e = this.elements[0];
	e.parentNode.removeChild(e);
	this.elements.splice(0,1);
}

// ---------------------------------------------------------------------------------
// Scroller animation
// ---------------------------------------------------------------------------------

function Scroller(targetElement,slowly)
{
	this.targetElement = targetElement;
	this.startScroll = findScrollY();
	this.targetScroll = ensureVisible(targetElement);
	this.progress = 0;
	this.step = slowly ? config.animSlow : config.animFast;
	return this;
}

Scroller.prototype.tick = function()
{
	this.progress += this.step;
	if(this.progress > 1)
		{
		window.scrollTo(0,this.targetScroll);
		return false;
		}
	else
		{
		var f = Animator.slowInSlowOut(this.progress);
		window.scrollTo(0,this.startScroll + (this.targetScroll-this.startScroll) * f);
		return true;
		}
}

// ---------------------------------------------------------------------------------
// Slider animation
// ---------------------------------------------------------------------------------

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,slowly,deleteMode)
{
	this.element = element;
	element.style.display = "block";
	this.deleteMode = deleteMode;
	this.element.style.height = "auto";
	this.realHeight = element.offsetHeight;
	this.opening = opening;
	this.step = slowly ? config.animSlow : config.animFast;
	if(opening)
		{
		this.progress = 0;
		element.style.height = "0px";
		element.style.display = "block";
		}
	else
		{
		this.progress = 1;
		this.step = -this.step;
		}
	element.style.overflow = "hidden";
	return this;
}

Slider.prototype.stop = function()
{
	if(this.opening)
		{
		this.element.style.height = "auto";
		this.element.style.opacity = 1;
		this.element.style.filter = "alpha(opacity:100)";
		}
	else
		{
		switch(this.deleteMode)
			{
			case "none":
				this.element.style.display = "none";
				break;
			case "all":
				this.element.parentNode.removeChild(this.element);
				break;
			case "children":
				removeChildren(this.element);
				break;
			}
		}
}

Slider.prototype.tick = function()
{
	this.progress += this.step;
	if(this.progress < 0 || this.progress > 1)
		{
		this.stop();
		return false;
		}
	else
		{
		var f = Animator.slowInSlowOut(this.progress);
		var h = this.realHeight * f;
		this.element.style.height = h + "px";
		this.element.style.opacity = f;
		this.element.style.filter = "alpha(opacity:" + f * 100 +")";
		return true;
		}
}

// ---------------------------------------------------------------------------------
// Popup menu
// ---------------------------------------------------------------------------------

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root)
{
	Popup.remove();
	var popup = createTiddlyElement(document.body,"ol","popup","popup",null);
	Popup.stack.push({root: root, popup: popup});
	return popup;
}

Popup.onDocumentClick = function(e)
{
	if (!e) var e = window.event;
	var target = resolveTarget(e);
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
}

Popup.show = function(unused,slowly)
{
	var curr = Popup.stack[Popup.stack.length-1];
	var rootLeft = findPosX(curr.root);
	var rootTop = findPosY(curr.root);
	var rootHeight = curr.root.offsetHeight;
	var popupLeft = rootLeft;
	var popupTop = rootTop + rootHeight;
	var popupWidth = curr.popup.offsetWidth;
	var winWidth = findWindowWidth();
	if(popupLeft + popupWidth > winWidth)
		popupLeft = winWidth - popupWidth;
	curr.popup.style.left = popupLeft + "px";
	curr.popup.style.top = popupTop + "px";
	curr.popup.style.display = "block";
	addClass(curr.root,"highlight");
	if(config.options.chkAnimate)
		anim.startAnimating(new Scroller(curr.popup,slowly));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
}

Popup.remove = function()
{
	if(Popup.stack.length > 0)
		{
		Popup.removeFrom(0);
		}
}

Popup.removeFrom = function(from)
{
	for(var t=Popup.stack.length-1; t>=from; t--)
		{
		var p = Popup.stack[t];
		removeClass(p.root,"highlight");
		p.popup.parentNode.removeChild(p.popup);
		}
	Popup.stack = Popup.stack.slice(0,from);
}

// Backwards compatibility
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// ---------------------------------------------------------------------------------
// Augmented methods for the JavaScript Number(), Array() and String() objects
// ---------------------------------------------------------------------------------

// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return c;
}

// Find an entry in an array. Returns the array index or null
Array.prototype.find = function(item)
{
	for(var t=0; t<this.length; t++)
		if(this[t] == item)
			return t;
	return null;
}

// Find an entry in an array by the value of one of it's members. Returns the array index or null
Array.prototype.findByMember = function(member,value)
{
	for(var t=0; t<this.length; t++)
		if(this[t][member] == value)
			return t;
	return null;
}

// Get an item in an array by the value of a particular member of the item. Returns the item or null
Array.prototype.get = function(member,value)
{
	for(var t=0; t<this.length; t++)
		if(this[t][members] == value)
			return this[t];
	return null;
}

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique != undefined && unique == false)
		this.push(item);
	else
		{
		if(this.find(item) == null)
			this.push(item);
		}
}

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	if(n < this.length)
		return this.slice(this.length-n);
	else
		return this;
}

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
}

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var s = this.split("-");
	if(s.length > 1)
		for(var t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	return s.join("");
}

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(substrings)
{
	var subRegExp = new RegExp("(?:%(\\d+))","mg");
	var currPos = 0;
	var r = [];
	do {
		var match = subRegExp.exec(this);
		if(match && match[1])
			{
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1])]);
			currPos = subRegExp.lastIndex;
			}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
}

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	return(this.replace(new RegExp("[\\\\\\^\\$\\*\\+\\?\\(\\)\\=\\!\\|\\,\\{\\}\\[\\]\\.]","g"),"\\$&"));
}

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	var regexpAmp = new RegExp("&","mg");
	var regexpLessThan = new RegExp("<","mg");
	var regexpGreaterThan = new RegExp(">","mg");
	var regexpQuote = new RegExp("\"","mg");
	return(this.replace(regexpAmp,"&amp;").replace(regexpLessThan,"&lt;").replace(regexpGreaterThan,"&gt;").replace(regexpQuote,"&quot;"));
}

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	var regexpAmp = new RegExp("&amp;","mg");
	var regexpLessThan = new RegExp("&lt;","mg");
	var regexpGreaterThan = new RegExp("&gt;","mg");
	var regexpQuote = new RegExp("&quot;","mg");
	return(this.replace(regexpLessThan,"<").replace(regexpGreaterThan,">").replace(regexpQuote,"\"").replace(regexpAmp,"&"));
}

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '', [[]] or left unquoted (and therefore space-separated)
String.prototype.readMacroParams = function()
{
	var regexpMacroParam = new RegExp("(?:\\s*)(?:(?:\"((?:(?:\\\\\")|[^\"])*)\")|(?:'((?:(?:\\\\\')|[^'])*)')|(?:\\[\\[([^\\]]*)\\]\\])|([^\"'\\s]\\S*))","mg");
	var params = [];
	do {
		var match = regexpMacroParam.exec(this);
		if(match)
			{
			if(match[1]) // Double quoted
				params.push(match[1]);
			else if(match[2]) // Single quoted
				params.push(match[2]);
			else if(match[3]) // Double-square-bracket quoted
				params.push(match[3]);
			else if(match[4]) // Unquoted
				params.push(match[4]);
			}
	} while(match);
	return params;
}

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var bracketedPattern = "\\[\\[([^\\]]+)\\]\\]";
	var unbracketedPattern = "[^\\s$]+";
	var pattern = "(?:" + bracketedPattern + ")|(" + unbracketedPattern + ")";
	var re = new RegExp(pattern,"mg");
	var tiddlerNames = [];
	do {
		var match = re.exec(this);
		if(match)
			{
			if(match[1]) // Bracketed
				tiddlerNames.pushUnique(match[1],unique);
			else if(match[2]) // Unbracketed
				tiddlerNames.pushUnique(match[2],unique);
			}
	} while(match);
	return(tiddlerNames);
}

// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	if(title.indexOf(" ") == -1)
		return(title);
	else
		return("[[" + title + "]]");
}

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return(s);
}

// ---------------------------------------------------------------------------------
// RGB colour object
// ---------------------------------------------------------------------------------

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string")
		{
		if(r.substr(0,1) == "#")
			{
			if(r.length == 7)
				{
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
				}
			else
				{
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
				}
			}
		else
			{
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/ ;
			var c = r.match(rgbPattern);
			if (c)
				{
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
				}
			}
		}
	else
		{
		this.r = r;
		this.g = g;
		this.b = b;
		}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
}

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var r = this.r.clamp(0,1);
	var g = this.g.clamp(0,1);
	var b = this.b.clamp(0,1);
	return("#" + ("0" + Math.floor(r * 255).toString(16)).right(2) +
				 ("0" + Math.floor(g * 255).toString(16)).right(2) +
				 ("0" + Math.floor(b * 255).toString(16)).right(2));
}

// ---------------------------------------------------------------------------------
// Augmented methods for the JavaScript Date() object
// ---------------------------------------------------------------------------------

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	template = template.replace(/YYYY/g,this.getFullYear());
	template = template.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	template = template.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	template = template.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	template = template.replace(/MM/g,this.getMonth()+1);
	template = template.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	template = template.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	template = template.replace(/DDth/g,this.getDate()+this.daySuffix());
	template = template.replace(/DD/g,this.getDate());
	template = template.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	template = template.replace(/hh/g,this.getHours());
	template = template.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	template = template.replace(/mm/g,this.getMinutes());
	template = template.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	template = template.replace(/ss/g,this.getSeconds());
	return template;
}

Date.prototype.daySuffix = function()
{
	var num = this.getDate();
	if (num >= 11 && num <= 13) return "th";
	else if (num.toString().substr(-1)=="1") return "st";
	else if (num.toString().substr(-1)=="2") return "nd";
	else if (num.toString().substr(-1)=="3") return "rd";
	return "th";
}

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return(String.zeroPad(this.getFullYear(),4) + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2));
}

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return(String.zeroPad(this.getFullYear(),4) + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + "." + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2) + String.zeroPad(this.getSeconds(),2) + String.zeroPad(this.getMilliseconds(),4));
}

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	var theDate = new Date(parseInt(d.substr(0,4),10),
							parseInt(d.substr(4,2),10)-1,
							parseInt(d.substr(6,2),10),
							parseInt(d.substr(8,2),10),
							parseInt(d.substr(10,2),10),0,0);
	return(theDate);
}

// ---------------------------------------------------------------------------------
// DOM utilities - many derived from www.quirksmode.org 
// ---------------------------------------------------------------------------------

function drawGradient(place,horiz,colours)
{
	for(var t=0; t<= 100; t+=2)
		{
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var f = t/100;
		var p = f*(colours.length-1);
		bar.style.backgroundColor = colours[Math.floor(p)].mix(colours[Math.ceil(p)],p-Math.floor(p)).toString();
		}
}

function createTiddlyText(theParent,theText)
{
	return theParent.appendChild(document.createTextNode(theText));
}

function createTiddlyElement(theParent,theElement,theID,theClass,theText)
{
	var e = document.createElement(theElement);
	if(theClass != null)
		e.className = theClass;
	if(theID != null)
		e.setAttribute("id",theID);
	if(theText != null)
		e.appendChild(document.createTextNode(theText));
	if(theParent != null)
		theParent.appendChild(e);
	return(e);
}

// Add an event handler
// Thanks to John Resig, via QuirksMode
function addEvent(obj,type,fn)
{
	if(obj.attachEvent)
		{
		obj['e'+type+fn] = fn;
		obj[type+fn] = function(){obj['e'+type+fn](window.event);}
		obj.attachEvent('on'+type,obj[type+fn]);
		}
	else
		obj.addEventListener(type,fn,false);
}

// Remove  an event handler
// Thanks to John Resig, via QuirksMode
function removeEvent(obj,type,fn)
{
	if(obj.detachEvent)
		{
		obj.detachEvent('on'+type,obj[type+fn]);
		obj[type+fn] = null;
		}
	else
		obj.removeEventListener(type,fn,false);
}

function addClass(e,theClass)
{
	removeClass(e,theClass);
	e.className += " " + theClass;
}

function removeClass(e,theClass)
{
	var newClass = [];
	var currClass = e.className.split(" ");
	for(var t=0; t<currClass.length; t++)
		if(currClass[t] != theClass)
			newClass.push(currClass[t]);
	e.className = newClass.join(" ");
}

function hasClass(e,theClass)
{
	var c = e.className;
	if(c)
		{
		c = c.split(" ");
		for(var t=0; t<c.length; t++)
			if(c[t] == theClass)
				return true;
		}
	return false;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if (e.target)
		obj = e.target;
	else if (e.srcElement)
		obj = e.srcElement;
	if (obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return(obj);
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	var text = "";
	if(e.innerText)
		text = e.innerText;
	else if(e.textContent)
		text = e.textContent;
	return text;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop)
		return(posTop);
	else if(posBot > winBot)
		{
		if(e.offsetHeight < winHeight)
			return(posTop - (winHeight - e.offsetHeight));
		else
			return(posTop);
		}
	else
		return(winTop);
}

// Get the current width of the display window
function findWindowWidth()
{
	return(window.innerWidth ? window.innerWidth : document.documentElement.clientWidth);
}

// Get the current height of the display window
function findWindowHeight()
{
	return(window.innerHeight ? window.innerHeight : document.documentElement.clientHeight);
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return(window.scrollX ? window.scrollX : document.documentElement.scrollLeft);
}

// Get the current vertical page scroll position
function findScrollY()
{
	return(window.scrollY ? window.scrollY : document.documentElement.scrollTop);
}

function findPosX(obj)
{
	var curleft = 0;
	while (obj.offsetParent)
		{
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
		}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while (obj.offsetParent)
		{
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
		}
	return curtop;
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Remove all children of a node
function removeChildren(e)
{
	while(e.hasChildNodes())
		e.removeChild(e.firstChild);
}

// Add a stylesheet, replacing any previous custom stylesheet
function setStylesheet(s,id)
{
	if(!id)
		id = "customStyleSheet";
	var n = document.getElementById(id);
	if(document.createStyleSheet) // Test for IE's non-standard createStyleSheet method
		{
		if(n)
			n.parentNode.removeChild(n);
		// This failed without the &nbsp;
		document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style id='" + id + "'>" + s + "</style>");
		}
	else
		{
		if(n)
			n.replaceChild(document.createTextNode(s),n.firstChild);
		else
			{
			var n = document.createElement("style");
			n.type = "text/css";
			n.id = id;
			n.appendChild(document.createTextNode(s));
			document.getElementsByTagName("head")[0].appendChild(n);
			}
		}
}

// ---------------------------------------------------------------------------------
// End of scripts
// ---------------------------------------------------------------------------------

</script>
<style type="text/css">

#saveTest {
	display: none;
}

.zoomer {
	display: none;
}

#messageArea {
	display: none;
}

#storeArea, #copyright {
	display: none;
}

.popup {
	position: absolute;
}

</style>
<noscript>
<style type="text/css">

#storeArea {
    display: block;
    margin: 4em 10em 3em;
}

#storeArea div {
 padding: 0.5em;
 margin: 1em 0em 0em 0em;
 border-color: #f0f0f0 #606060 #404040 #d0d0d0; 
 border-style: solid; 
 border-width: 2px;
 overflow: auto;
}

#javascriptWarning {
    width: 100%;
    text-align: center;
    font-weight: bold;
    background-color: #dd1100;
    color: #fff;
    padding:1em 0em; 
}

</style>
</noscript>
</head>
<body onload="main();" onunload="if(checkUnsavedChanges) checkUnsavedChanges();">
	<script>
	if (detectPlugin("TiddlyWiki Saver"))
		{
		document.write('<embed style="display: none" name="tiddlyWikiSafariSaver" width="0" height="0" type="application/x-webkit-tiddlywiki-saver"></embed>'); 
		saveUsingSafari = true;
		}
	</script>
	<div id="copyright">
	Welcome to TiddlyWiki by Jeremy Ruston, Copyright &copy; 2005 Osmosoft Limited
	</div>
	<noscript>
		<div id="javascriptWarning">This page requires JavaScript to function properly</div>
	</noscript>
	<div id="saveTest"></div>
	<div id="contentWrapper"></div>
	<div id="contentStash"></div>
	<div id="storeArea"><div tiddler="BUGS" modifier="TakeshiMorita" modified="200601311921" created="200601311921" tags="">!! ÊäΩË±°„Éé„Éº„Éâ„ÇíËøΩÂä†„Åô„ÇãÂá¶ÁêÜ„Å´Èñ¢„Åó„Å¶„ÅØÔºå„ÉÜ„Çπ„Éà„ÅåÂçÅÂàÜ„Åß„ÅØ„Å™„ÅÑ„Åü„ÇÅÔºå„Éê„Ç∞„ÇíÂê´„Çì„Åß„ÅÑ„ÇãÂèØËÉΩÊÄß„ÅåÈ´ò„ÅÑ„Åß„ÅôÔºé\n* „Éé„Éº„Éâ„Çí„Éâ„É©„ÉÉ„Ç∞„Ç¢„É≥„Éâ„Éâ„É≠„ÉÉ„Éó„ÅßÁßªÂãï„Åô„ÇãÊôÇ„Å´ÔºåÂ§öÈáçÁ∂ôÊâø„Åå„ÅÜ„Åæ„ÅèÊâ±„Åà„Å¶„ÅÑ„Å™„ÅÑ=&gt; „Éé„Éº„Éâ„ÅÆËøΩÂä†„Å®Âêå„Åò„Çà„ÅÜ„Å´Âãï‰Ωú„Åô„Åπ„Åç\n* Âêå‰∏ÄÊ¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å®„Åó„Å¶„Éâ„É©„ÉÉ„Ç∞„Åó„Å¶„Åó„Åæ„Å£„ÅüÂ†¥Âêà„ÅØÔºåÂæ™Áí∞„Åó„Å¶„Åó„Åæ„ÅÜ„Åü„ÇÅÔºå„ÉÅ„Çß„ÉÉ„ÇØ„ÇÇ„Åô„Åπ„Åç\n* „Ç≥„Éî„ÉºÔºÜ„Éö„Éº„Çπ„Éà„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÂ†¥Âêà„ÇÇ‰∏äË®ò„Å®ÂêåÊßò„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„ÅåÂøÖË¶Å</div>
<div tiddler="ChangeLog" modifier="TakeshiMorita" modified="200602070046" created="200601311921" tags="">! 2006-02-24\n* Ê±éÁî®ËæûÊõ∏„Éá„Éº„Çø„Å®„Åó„Å¶WordNet„ÇíÂà©Áî®„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n** EDR„Å®WordNet„ÅÆÂêçÂâçÁ©∫Èñì„Åä„Çà„Å≥Êé•È†≠Ëæû„ÅØ‰ª•‰∏ã„ÅÆ„Å®„Åä„Çä\n|!ËæûÊõ∏|!Êé•È†≠Ëæû|!ÂêçÂâçÁ©∫Èñì|\n|EDR|edr|http://www2.nict.go.jp/kk/e416/EDR#|\n|WordNet|wn|http://wordnet.princeton.edu/wn/2.0#|\n* Áõ∏Èñ¢„É´„Éº„É´„Åä„Çà„Å≥WordSpace„Å´„Å§„ÅÑ„Å¶ÔºåÊñáÊõ∏ÊØé„Å´È°û‰ººÂ∫¶„ÇíÊ±Ç„ÇÅ„Çã„Çà„ÅÜ„Å´‰øÆÊ≠£\n* WordNet„ÇíÊâ±„Åà„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„Åì„Å®„Åã„ÇâÔºåÊó•Êú¨Ë™ûDODDLE„Å®„ÅÑ„ÅÜÂêçÁß∞„Åå„Åù„Åê„Çè„Å™„Åè„Å™„Å£„Å¶„Åç„Åü„ÅÆ„ÅßÔºå„Éë„ÉÉ„Ç±„Éº„Ç∏„ÅÆdoddle_j„Çídoddle„Å∏ÁßªË°åÔºéÂêåÊßò„Å´DODDLE_J*„Å®„ÅÑ„ÅÜ„ÇØ„É©„ÇπÂêç„ÇíDODDLE*„Å´Â§âÊõ¥Ôºé\n* EDR„ÅÆDBÁî®„ÅÆËæûÊõ∏„Éá„Éº„Çø„ÇíÊõ¥Êñ∞(‰ª•ÈôçÔºåDODDLE_DIC_2006_02_24„Éê„Éº„Ç∏„Éß„É≥„Çí‰ΩøÁî®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÔºâ\n\n!!! BUGFIX\n* Èñ¢‰øÇÈÅ∏ÊäûÊôÇ„Å´„Éó„É≠„Éë„ÉÜ„Ç£„Çí‰Ωï„ÇÇÈÅ∏Êäû„Åó„Å™„ÅÑÁä∂ÊÖã„Åß„Ç≠„É£„É≥„Çª„É´„Éú„Çø„É≥„ÇíÊäº„Åô„Å®‰æãÂ§ñ„ÅåÁô∫Áîü„Åó„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n* ËæûÊõ∏„Å´„ÅÆ„Å£„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„Å´ÔºåËæûÊõ∏„Å´„ÅÆ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„Å´ÁßªÂãï„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£\n\n! 2006-02-10\n!!! BUGFIX ''@@color(red):[ÈáçË¶Å]@@''\n* ÊäΩË±°„Éé„Éº„Éâ„Å®„Åù„ÅÆ‰∏ã‰Ωç„Éé„Éº„Éâ„ÅÆÂêçÂâç„Åå‰∏ÄËá¥„Åô„ÇãÂ†¥Âêà„Å´‰∏ã‰Ωç„Éé„Éº„Éâ„ÇíÊäΩË±°„Éé„Éº„Éâ„Å´ÁΩÆÊèõ„Åô„ÇãÂá¶ÁêÜ„Å´„Éê„Ç∞„Åå„ÅÇ„Å£„Åü„Åü„ÇÅ‰øÆÊ≠£„Åó„ÅüÔºàÁΩÆÊèõ„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„ÇãÔºâ\n* Ââ™ÂÆö„Åô„ÇãË®≠ÂÆö„ÅßÔºå„Åã„Å§ÔºåÊäΩË±°„Éé„Éº„Éâ„ÇíËøΩÂä†„Åô„ÇãÂ†¥Âêà„Å´ÔºåÈöéÂ±§„ÅÆÊ∑±„ÅÑ‰ΩçÁΩÆ„Å´ÊäΩË±°„Éé„Éº„Éâ„ÇíÊåøÂÖ•„Åô„ÇãÂ†¥Âêà„Å´ÔºåÂÖàÈ†≠„ÅÆ‰∏ä‰Ωç„Å®Êú´Â∞æ„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÅßÈöéÂ±§„ÇíÊßãÁØâ„Åó„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£\n** ‰æãÔºö„ÄåÈ£õË°åÊ©ü„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„Å®„Äå„É≠„Ç±„ÉÉ„Éà„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„Åå„ÅÇ„Çã„Å®„ÅçÔºåÊú¨Êù•„ÅØ„ÄåÈ£õË°åÊ©ü„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„Åå‰∏ä‰Ωç„Å´Êù•„Çã„ÅØ„Åö„Å™„ÅÆ„ÅåÔºå„ÄåÈ£õË°åÊ©üÊÉÖÂ†±„Äç„ÅåÊäΩË±°„Éé„Éº„Éâ„Å®„Å™„Å£„Å¶„ÅÑ„Åü\n\n! 2006-02-08\n* ÂÆåÂÖ®ÁÖßÂêà ÂçòË™ûÊï∞ÔºåÈÉ®ÂàÜÁÖßÂêà  ÂçòË™ûÊï∞ÔºåÂÖ•ÂäõË™ûÂΩôÊï∞ÔºåÂÖ•ÂäõÊ¶ÇÂøµÊï∞ÔºåÂÖ•Âäõ ÂêçË©ûÁöÑÊ¶ÇÂøµÊï∞ÔºåÂÖ•Âäõ ÂãïË©ûÁöÑÊ¶ÇÂøµÊï∞ÔºåÂâ™ÂÆö„ÇØ„É©„ÇπÊï∞ÔºåÂâ™ÂÆö„Éó„É≠„Éë„ÉÜ„Ç£Êï∞„Çí„É≠„Ç∞(INFO)„Å®„Åó„Å¶Âá∫Âäõ„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* DODDLE_J.java„Å´ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„ÅüActionÁ≥ª„ÅÆ„ÇØ„É©„Çπ„Çíactions„Éë„ÉÉ„Ç±„Éº„Ç∏„Å´ÂàÜÈõ¢„Åó„Åü\n!!! BUGFIX ''@@color(red):[ÈáçË¶Å]@@''\n* Ë§áÂêàË™û„ÅÆË™ûÈ†≠„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„ÅåÈöéÂ±§‰∏≠„Å´„ÅÇ„ÇäÔºå„Åù„ÅÆË§áÂêàË™û„Å´„Åï„Çâ„Å´‰∏ã‰ΩçÊ¶ÇÂøµ„Åå„ÅÇ„ÇãÂ†¥ÂêàÔºé „Åï„Çâ„Å´ÔºåË™ûÈ†≠„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„ÅÇ„Åü„ÇãË§áÂêàË™û„Åå‰∏Ä„Å§„ÅÆÂ†¥ÂêàÔºé‰∏äË®ò„ÅÆÂ†¥ÂêàÔºåË§áÂêàË™û„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„ÅåÊ¨†ËêΩ„Åó„Å¶„Åó„Åæ„Å£„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n**  ‰æã: „Äå„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„Äç„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„ÄåH2A„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„Äç„Åå„ÅÇ„ÇäÔºå„É≠„Ç±„ÉÉ„Éà„ÅåÈöéÂ±§‰∏≠„Å´ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åô„ÇãÔºé„Åì„ÅÆÂ†¥Âêà„Å´ÔºåH2A„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„ÅåÊäΩË±°Ê¶ÇÂøµËøΩÂä†„Åô„ÇãÂ†¥Âêà„Å´Ê¨†ËêΩ„Åó„Å¶„ÅÑ„ÅüÔºé\n* Ë§áÂêàË™û„ÅÆË™ûÈ†≠„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„Å®Ë§áÂêàË™û„ÅÆÊú´Â∞æ„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„ÅüÊôÇ„Å´ÔºåË§áÂêàË™û„Å®Âêå‰∏ÄÂêç„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜÂ†¥ÂêàÔºé„Åï„Çâ„Å´ÔºåË™ûÈ†≠„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„ÅÇ„Åü„ÇãË§áÂêàË™û„Åå‰∏Ä„Å§„ÅÆÂ†¥ÂêàÔºé‰∏äË®ò„ÅÆÂ†¥ÂêàÔºåË§áÂêàË™û„ÅåÊ¨†ËêΩ„Åó„Å¶„Åó„Åæ„Å£„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n**  ‰æãÔºö „ÄåÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„Äç„ÅÆË™ûÈ†≠„Åß„ÅÇ„Çã„ÄåÈ£õË°åÊ©ü„Äç„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„Åå„ÄåÈ£õË°åÊ©ü„Äç„ÅÆ„Å®„ÅçÔºåÊäΩË±°Ê¶ÇÂøµ„ÇÇ       „ÄåÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„Äç„Å®„Å™„ÇäÔºå‰∏ã‰ΩçÊ¶ÇÂøµ„Å®ÈáçË§á„Åó„Å¶„Åó„Åæ„ÅÜÔºé„Åì„ÅÆÂ†¥ÂêàÔºå‰∏ã‰ΩçÊ¶ÇÂøµ„ÅÆÊñπ„ÅÆÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅØÂâäÈô§„Åï„Çå„Å¶„Åó„Åæ„ÅÜ„ÅåÔºåÊäΩË±°Ê¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´‰æã„Åà„Å∞Ôºå„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„Å™„Å©Ë§áÊï∞Ê¶ÇÂøµ„Åå„ÅÇ„Çå„Å∞„Çà„ÅÑ„ÅåÔºå„Å™„ÅÑÂ†¥Âêà„ÅØÊäΩË±°Ê¶ÇÂøµ„Åß„ÅÇ„ÇãÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅØÂâäÈô§„Åï„Çå„Çã„Åü„ÇÅÔºåÁµêÊûú„Å®„Åó„Å¶È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅØÂâäÈô§„Åï„Çå„Å¶„ÅÑ„ÅüÔºé„Åì„Åì„ÅßÔºå‰∏äË®ò„ÅÆ„Çà„ÅÜ„Å´Ë§áÂêàË™û„ÅåÊäΩË±°Ê¶ÇÂøµ„Å´ÁΩÆ„ÅçÊèõ„Çè„Çã„Çà„ÅÜ„Å™Â†¥Âêà„Å´„ÅØÂâäÈô§„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´‰øÆÊ≠£„Åó„ÅüÔºé\n* ‰∏äË®ò„ÅÆÂ†¥Âêà„ÅßÔºåÊäΩË±°Ê¶ÇÂøµ„Å®ÁΩÆ„ÅçÊèõ„Çè„Çã„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Åü„ÅåÔºåÂçòÁ¥î„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„ÅÑ„Åü„Å†„Åë„Å†„Å£„Åü„Åü„ÇÅÔºåÁΩÆ„ÅçÊèõ„Åà„ÅüË§áÂêàË™û„Åå‰øùÊåÅ„Åó„Å¶„ÅÑ„Åü‰∏ã‰ΩçÊ¶ÇÂøµ„ÅåÊ¨†ËêΩ„Åó„Å¶„ÅÑ„ÅüÔºé\n**  ‰æãÔºö‰∏äË®ò„ÅÆ‰æã„ÅßÔºåÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅÆ‰∏ã‰Ωç„Å´F15È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅÆ„Çà„ÅÜ„Å™Ê¶ÇÂøµ„Åå„Å§„ÅÑ„Å¶„ÅÑ„ÅüÂ†¥Âêà„Å´„ÅØÔºåÊäΩË±°Ê¶ÇÂøµ„Å®È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÇíÁΩÆ„ÅçÊèõ„Åà„Åü„ÅÆ„Å°„Å´ÔºåÂÖÉ„Åã„Çâ„ÅÇ„Å£„ÅüF15È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÇÇÊäΩË±°Ê¶ÇÂøµ„ÄåÈ£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„Äç„ÅÆ‰∏ã‰Ωç„Å´ÁßªÂãï„Åô„Çã„Çà„ÅÜ„Å´‰øÆÊ≠£„Åó„ÅüÔºé\n\n! 2006-02-06\n* Â§öÁæ©ÊÄßËß£Ê∂à„ÅßÔºåÊ±éÁî®ËæûÊõ∏„Å´Ë©≤ÂΩì„Åô„ÇãÊÑèÂë≥„Åå„Å™„ÅÑÂ†¥Âêà„Å´„ÄåË©≤ÂΩì„Å™„Åó„Äç„ÇíÈÅ∏Êäû„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºéÔºàË©≤ÂΩì„Å™„Åó„ÇíÈÅ∏Êäû„Åó„ÅüÂ†¥ÂêàÔºåËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„Å´ÂÖ•ÂäõÂçòË™û„ÅØËøΩÂä†„Åï„Çå„ÇãÔºâ\n* DEBUG„Ç™„Éó„Ç∑„Éß„É≥„Çí„Å§„Åë„Åü„Å®„Åç„ÅÆÔºå„É≠„Ç∞„ÅÆÂá∫ÂäõÂΩ¢Âºè„ÇíÂ§âÊõ¥\n\n!!! BUGFIX\n* ''@@color(red):[ÈáçË¶Å]@@'' Ë§áÂêàË™û„ÅÆÂ§öÁæ©ÊÄßËß£Ê∂à„ÅßÔºåÂÄã„ÄÖ„ÅÆË§áÂêàË™û„ÅÆÊÑèÂë≥„ÇíÂ§âÊõ¥„Åó„ÅüÂ†¥Âêà„Å´ÈöéÂ±§ÊßãÁØâ„Å´ÂèçÊò†„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n\n! 2006-02-04\n* Êñ∞Ë¶è„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å®„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÈñã„ÅÑ„ÅüÂæå„Å´Ôºå„Ç¶„Ç£„É≥„Éâ„Ç¶„ÇíÊúÄÂ§ßÂåñ„Åô„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºé\n* ÈöéÂ±§„ÇíÊ§úÁ¥¢„Åô„ÇãÊôÇ„Å´ÔºåÊ§úÁ¥¢„Éï„Ç£„Éº„É´„Éâ„Åß„Ç®„É≥„Çø„Éº„Éú„Çø„É≥„ÇíÊäº„Åó„ÅüÂ†¥Âêà„ÇÇÊ¨°„ÅÆÂÄôË£ú„ÇíÊ§úÁ¥¢„Åô„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºé\n\n!!! BUGFIX\n* „Éó„É≠„Ç∏„Çß„ÇØ„Éà„É°„Éã„É•„Éº„Åß„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÈÅ∏Êäû„Åó„Å¶„ÇÇÔºå„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÈÅ∏Êäû„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£\n* Ê§úÁ¥¢ÊôÇ„Å´ÔºåÈÉ®ÂàÜÁÖßÂêà„ÅÆÂçòË™ûÊï∞„ÅåÂÆåÂÖ®ÁÖßÂêà„ÅÆÂçòË™ûÊï∞„Å®„Åó„Å¶Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n*„ÄÄË§áÂêàË™û„ÅÆÈöéÂ±§ÊßãÁØâ„ÅßÔºåË§áÂêàË™û„ÅÆË™ûÈ†≠„ÅÆÂçòË™û„ÅåÊ¶ÇÂøµÈöéÂ±§‰∏≠„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØÔºå„Åù„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„ÇíÂèñÂæó„ÅóÔºå‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ‰∏ÄËá¥„Åó„Å¶„ÅÑ„ÇãË§áÂêàË™û„Çí„Åæ„Å®„ÇÅ„Å¶ÔºåÂÖ±ÈÄö„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„Åæ„Å®„ÇÅ„ÇãÂá¶ÁêÜ„Çí„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºéÔºí„Å§‰ª•‰∏äË§áÂêàË™û„Çí„Åæ„Å®„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„ÇãÂ†¥Âêà„Å´„ÅØÔºåÂÖ±ÈÄö„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„Çí‰ΩúÊàêÔºé\n* ‰∏äË®ò„ÅÆÊ©üËÉΩ„ÅßÔºåË§áÂêàË™û„ÅÆË™ûÈ†≠„ÅÆÂçòË™û„ÅåÂ§öÈáçÁ∂ôÊâø„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆÂá¶ÁêÜ„Åå„Åß„Åç„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£„Åó„ÅüÔºéÂ§öÈáçÁ∂ôÊâø„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØÔºåÂÖ±ÈÄö‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆÂ≠ê„Éé„Éº„Éâ„ÅÆÊï∞„Åå‰∏Ä„Å§„Åó„Åã„Å™„ÅÑÂ†¥Âêà„Å´„ÅØÔºåÂÖÉ„ÅÆ‰ΩçÁΩÆ„Å´Êàª„Åô„ÅåÔºåË§áÊï∞„ÅÆÂÖ±ÈÄö‰∏ä‰ΩçÊ¶ÇÂøµ„Å´„Å§„ÅÑ„Å¶Ôºë„Å§„Åó„ÅãÂ≠ê„Éé„Éº„Éâ„Åå„Å™„ÅÑÂ†¥Âêà„Å´„ÅØÔºå ÂÖÑÂºüÊ¶ÇÂøµ„Å´Âêå‰∏ÄÊ¶ÇÂøµ„Åå„ÅÇ„Çâ„Çè„Çå„Å¶„Åó„Åæ„ÅÜ„ÅÆ„ÅßÔºå„Åù„ÅÆÂ†¥Âêà„Å´„ÅØÔºå‰∏Ä„Å§„Å´„Åó„Åº„ÇãÔºé „Åæ„ÅüÔºåË§áÊï∞„ÅÆÂÖ±ÈÄö‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ„ÅÜ„Å°‰∏Ä„Å§„Åß„ÇÇË§áÊï∞„ÅÆÂ≠ê„Éé„Éº„Éâ„Çí„ÇÇ„Å§Â†¥Âêà„Åå„ÅÇ„Å£„Åü„ÇâÔºå ÂÖÉ„ÅÆ‰ΩçÁΩÆ„Å´Êàª„Åó„ÅüÊ¶ÇÂøµ„ÅØÂâäÈô§„Åô„ÇãÔºé\n**   ‰æã: „Çø„Ç§„Éû„Éº„ÅÆ‰∏ä‰Ωç„Å´„ÄåÊ©üËÉΩ„Åß„Å®„Çâ„Åà„ÅüÂÖ∑‰ΩìÁâ©„ÄçÔºå„ÄåÂô®ÂÖ∑„ÄçÔºå„ÄåË®àÂô®„Äç„Åå„ÅÇ„Å£„Åü„Å®„Åç„Å´Ôºå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Å®„ÅÑ„ÅÜË§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åô„ÇãÔºéÊÉÖÂ†±„ÅÆ‰∏ã‰Ωç„Å´Ôºå„ÄåÊ©üËÉΩ„Åß„Å®„Çâ„Åà„ÅüÂÖ∑‰ΩìÁâ©ÊÉÖÂ†±„ÄçÔºå„ÄåÂô®ÂÖ∑ÊÉÖÂ†±„ÄçÔºå„ÄåË®àÂô®ÊÉÖÂ†±„Äç„ÇíÊåøÂÖ•„ÅóÔºå„Åù„Çå„Çâ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Çí‰ΩçÁΩÆ„Å•„Åë„ÇãÔºé„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„ÅÆ‰ªñ„Å´„ÄåÂô®ÂÖ∑„Äç„Çí‰∏ä‰Ωç„Å´„ÇÇ„Å§„Äå„É¨„Éº„ÉÄ„Éº„Äç„ÅÆË§áÂêàË™û„Åß„ÅÇ„Çã„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„Åå„ÅÇ„Çã„Å®„Åô„Çã„Å®Ôºå„ÄåË®àÂô®ÊÉÖÂ†±„Äç„ÅÆ‰∏ã‰Ωç„Å´„ÅØÔºå„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„Å®„Äå„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„ÅÆ‰∫å„Å§„ÅÆÊ¶ÇÂøµ„Åå„ÅÇ„ÇäÔºå„ÄåÊ©üËÉΩ„Åß„Å®„Çâ„Åà„ÅüÂÖ∑‰ΩìÁâ©ÊÉÖÂ†±„ÄçÔºå„ÄåÂô®ÂÖ∑ÊÉÖÂ†±„Äç       „ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„ÅØ„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„ÅÆ„Åø„Å®„Å™„ÇãÔºé„ÄåÊ©üËÉΩ„Åß„Å®„Çâ„Åà„ÅüÂÖ∑‰ΩìÁâ©ÊÉÖÂ†±„ÄçÔºå„ÄåÂô®ÂÖ∑ÊÉÖÂ†±„Äç„ÇíÂâäÈô§„Åó„Å¶Ôºå„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„Çí„ÄåÊÉÖÂ†±„Äç„ÅÆ‰∏ã‰Ωç„Å´Êàª„Åô„Å®Ôºå„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„ÅåÈáçË§á„Åó„Å¶„Åó„Åæ„ÅÜ„Åü„ÇÅÔºå‰∏Ä„Å§‰ª•Â§ñ„ÅØÂâäÈô§„Åô„ÇãÔºé„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„ÅØ„ÄåË®àÂô®ÊÉÖÂ†±„Äç„ÅÆ‰∏ã‰Ωç„Å´ÂÜçÈöéÂ±§Âåñ„Åï„Çå„Åü„Åü„ÇÅÔºå„ÄåÊÉÖÂ†±„Äç„ÅÆ‰∏ã‰Ωç„Å´„ÅÇ„Çã„Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„Äç„ÇÇÂâäÈô§„ÅóÔºåÊúÄÁµÇÁöÑ„Å´Ôºå„ÄåÊÉÖÂ†±„Äç =&gt; „ÄåË®àÂô®ÊÉÖÂ†±„Äç =&gt; „Äå„Çø„Ç§„Éû„ÉºÊÉÖÂ†±„ÄçÔºå„Äå„É¨„Éº„ÉÄ„ÉºÊÉÖÂ†±„Äç„Å®„ÅÑ„ÅÜÈöéÂ±§„Å´„Å™„ÇãÔºé\n\n! 2006-02-01\n!!! BUGFIX\n* DB„ÇíÂà©Áî®„Åô„ÇãÂ†¥Âêà„Å´Ôºå‰ª£Ë°®Ë¶ãÂá∫„Åó„Åå„ÅÜ„Åæ„ÅèË®≠ÂÆö„Åß„Åç„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n* „Ç¶„Ç£„É≥„Éâ„Ç¶„ÅÆ„Éê„ÉÑ„Éú„Çø„É≥„ÇíÊäº„Åó„ÅüÊôÇ„Å´ÔºåÁµÇ‰∫Ü„Åó„Å™„ÅÑ„ÇíÈÅ∏Êäû„Åó„Å¶„ÇÇÔºå„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÊ∂à„Åà„Å¶„Åó„Åæ„Å£„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n\n! 2006-01-31\n* „Éâ„Ç≠„É•„É°„É≥„Éà„ÇíGTD TiddyWiki„ÅßË®òËø∞„ÅóÔºå„Éó„É≠„Ç∞„É©„É†„Å´Ê∑ª‰ªòÔºàDODDLE_README.html)\n* ÂêÑ„Çø„Éñ„Å´„Ç¢„Ç§„Ç≥„É≥„ÇíË®≠ÂÆö\n* Â§öÁæ©ÊÄßËß£Ê∂àÊôÇ„Å´ÔºåÂÆåÂÖ®ÁÖßÂêà„Åó„ÅüÂçòË™û„ÇíÈÅ∏Êäû„Åó„ÅüÁä∂ÊÖã„ÅßÔºåÂØæÂøú„Åô„ÇãË§áÂêàË™û„ÅÆ„ÅøË°®Á§∫„Å´„ÉÅ„Çß„ÉÉ„ÇØ„Çí„ÅÑ„Çå„Å¶„Åä„Åè„Å®ÔºåÈÉ®ÂàÜÁÖßÂêà„Çø„Éñ„ÇíÈÅ∏Êäû„Åó„ÅüÊôÇ„Å´ÔºåÂÆåÂÖ®ÁÖßÂêà„Çø„Éñ„ÅßÈÅ∏Êäû„Åó„ÅüÂçòË™û„ÇíÊú´Â∞æ„Å´„ÇÇ„Å§Ë§áÂêàË™û„ÅÆ„Åø„ÇíË°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºé\n\n! 2006-01-21\n* Ë§áÂêàË™û„ÅÆÈöéÂ±§ÊßãÁØâ„ÅßÔºåË§áÂêàË™û„ÅÆÂ∑¶Á´Ø„ÅÆÂçòË™û„ÅåÊ¶ÇÂøµÈöéÂ±§‰∏≠„ÅßÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´„ÅØÔºå„Åù„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„ÇíÂèñÂæó„ÅóÔºå‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ‰∏ÄËá¥„Åó„Å¶„ÅÑ„ÇãË§áÂêàË™û„Çí„Åæ„Å®„ÇÅ„Å¶ÔºåÂÖ±ÈÄö„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ‰∏ã‰ΩçÊ¶ÇÂøµ„Å´„Åæ„Å®„ÇÅ„ÇãÂá¶ÁêÜ„Çí„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºéÔºí„Å§‰ª•‰∏äË§áÂêàË™û„Çí„Åæ„Å®„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„ÇãÂ†¥Âêà„Å´„ÅØÔºåÂÖ±ÈÄö„ÅÆ‰∏ä‰ΩçÊ¶ÇÂøµ„Çí‰ΩúÊàêÔºé\n\n!!! BUGFIX\n* Ë§áÊï∞„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÁ´ã„Å°‰∏ä„Åí„Å¶„ÅÑ„ÇãÈöõ„Å´ÔºåÔºà„ÅÇ„ÇãÔºâ„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÔº°„ÅßÂÖ•ÂäõÂçòË™û„ÇíË™≠„ÅøËæº„ÇÄ„Å®ÔºåÂà•„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅßÈöéÂ±§ÊßãÁØâ„ÇíË°å„Å£„ÅüÊôÇ„Å´Ôºå„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÔº°„ÅÆÂ§öÁæ©ÊÄßËß£Ê∂àÁµêÊûú„ÅßÈöéÂ±§„ÇíÊßãÁØâ„Åó„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n* ÂÖ•ÂäõÂçòË™û„Å´„Å™„ÅÑÂçòË™û„ÇíÂê´„ÇÄË§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åô„ÇãÊôÇ„Å´ÔºåÂÖ•ÂäõÂçòË™û„Å´„Å™„ÅÑÂçòË™û„ÇíÂâäÈô§„Åô„Çã„Å®ÔºåÂçäÂàÜ„Åó„ÅãË§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åß„Åç„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£ÔºéÔºà‰æã: Áô∫Â∞ÑË£ÖÁΩÆ„ÅåÂÖ•ÂäõÂçòË™û„Å´„Å™„ÅèÔºå„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„Å®È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„Å™„Å©„Åå„ÅÇ„Çã„Å®„Åç„Å´ÔºåÁô∫Â∞ÑË£ÖÁΩÆ„ÇíÈöéÂ±§„Å´Âê´„ÇÅ„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„ÇãÂ†¥Âêà„Å´„ÅØÔºåË£ÖÁΩÆ„ÅÆ‰∏ã„Å´Êú¨Êù•„ÅØÔºå„É≠„Ç±„ÉÉ„ÉàÁô∫Â∞ÑË£ÖÁΩÆ„Å®È£õË°åÊ©üÁô∫Â∞ÑË£ÖÁΩÆ„ÅåËøΩÂä†„Åï„Çå„Çã„ÅØ„Åö„Å†„ÅåÔºå‰∏ÄÊñπ„Åó„ÅãËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Å™„Åã„Å£„ÅüÔºéÂÖÑÂºüÊ¶ÇÂøµ„ÅÆÂçäÂàÜ„Å†„Åë„ÅåÂá¶ÁêÜ„Åï„Çå„Å¶„ÅÑ„ÅüÔºéÔºâ\n* Ë§áÊï∞„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÊâ±„Å£„Å¶„ÅÑ„ÇãÈöõ„Å´ÔºåÔº•Ôº§Ôº≤„ÅßÊ¶ÇÂøµÂÆöÁæ©„ÇíË°å„ÅÜ„Åì„Å®„Åå„ÅÜ„Åæ„Åè„Åß„Åç„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n* ÈöéÂ±§ÊßãÁØâÊôÇ„Å´Ôºå„Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº„ÇíË°®Á§∫„Åó„Å¶„ÅÑ„Åü„Åå„ÅÜ„Åæ„ÅèÊ©üËÉΩ„Åó„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n* ÈöéÂ±§ÊßãÁØâ‰∏≠„ÅØÔºåÈöéÂ±§„ÇíË°®Á§∫„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´‰øÆÊ≠£Ôºé\n\n! 2006-01-19\n!!! BUGFIX\n* ÂêçË©ûÁöÑÊ¶ÇÂøµÔºãÂãïË©ûÁöÑÊ¶ÇÂøµ„ÅÆÈöéÂ±§„ÇíÊßãÁØâÂæå„Å´ÔºåÂêçË©ûÁöÑÊ¶ÇÂøµ„ÅÆÈöéÂ±§„ÇíÊßãÁØâ„Åô„Çã„Å®„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Å¶„ÅÑ„Åü„ÅÆ„ÇíÔºå‰øÆÊ≠£Ôºé\n\n! 2006-01-18\n* Â§öÁæ©ÊÄßËß£Ê∂à„ÇíË°å„ÅÜÈöõ„ÅÆÂçòË™û„É™„Çπ„Éà„ÇÇÊ§úÁ¥¢„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* ÂÆåÂÖ®ÁÖßÂêà„Å®ÈÉ®ÂàÜÁÖßÂêà„ÇíÂàÜÈõ¢„Åó„Å¶„Çø„Éñ„ÅßÂàÜ„Åë„Å¶Ë°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü =&gt; ÈÉ®ÂàÜÁÖßÂêàÂçòË™û„É™„Çπ„Éà„Å®Â§öÁæ©ÊÄßËß£Ê∂àÁµêÊûú„ÇíÂÖ±Êúâ„Åô„Çã„Å´„ÉÅ„Çß„ÉÉ„ÇØ„Çí„Å§„Åë„Å¶„ÅÑ„Çã„Å®ÔºåÈÉ®ÂàÜÁÖßÂêà„Åó„ÅüÂçòË™û„Å´„Å§„ÅÑ„Å¶„ÇÇÔºåÂÆåÂÖ®ÁÖßÂêà„Åó„ÅüÂçòË™û„ÅÆÊÑèÂë≥„ÇíËá™ÂãïÁöÑ„Å´„Å§„Åë„ÇãÔºà‰æãÔºöË£ÖÁΩÆ„ÇíÂ§öÁæ©ÊÄßËß£Ê∂à„Åô„Çã„Å®ÔºåÁô∫Â∞ÑË£ÖÁΩÆ„ÇÑÁÇπÁÅ´Ë£ÖÁΩÆ„ÇÇÂêåÊôÇ„Å´Â§öÁæ©ÊÄßËß£Ê∂à„Åï„Çå„ÇãÔºâ\n* ÈÉ®ÂàÜÁÖßÂêà„Åó„ÅüÂçòË™û„É™„Çπ„Éà„ÅÆÂ§öÁæ©ÊÄßËß£Ê∂à„ÇíË°å„Å£„Å¶„ÇÇËá™ÂãïÁöÑ„Å´ÂêåÊúü„Åï„Çå„ÅöÔºå„Åì„Åì„ÅÆÂçòË™ûÊØé„Å´ÊÑèÂë≥„ÇíÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºéÔºàÂêåÊúü„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ‰∏äË®ò„ÅÆÊ©üËÉΩ„ÇíÂà©Áî®Ôºâ\n* ÈöéÂ±§„ÅÆ„ÅøË°®Á§∫„Åß„Åç„Çã„Çà„ÅÜ„Å´Ôºå„Çπ„Éó„É™„ÉÉ„Çø„Éº„Çí„Å§„Åë„Åü\n* „Çπ„Éó„É™„ÉÉ„Çø„Éº„ÅÆÂπÖ„ÇíÂ∞ë„ÅóÂ§™„ÇÅ„Å´„Åó„Å¶Ôºå„Çè„Åã„Çä„ÇÑ„Åô„Åè„Åó„ÅüÔºé\n\n! 2006-01-15\n* ÊñáÊõ∏ÈÅ∏ÊäûÊôÇ„Å´ÔºåË®ÄË™ûÊÉÖÂ†±„ÅÆÈÅ∏Êäû„ÅåÂèØËÉΩ„Å´„Å™„Å£„ÅüÔºà„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ‰øùÂ≠òÔºåÂæ©ÂÖÉ„ÇÇÂèØÔºâ\n* ÂÖ•ÂäõÊñáÊõ∏„ÅåËã±Ë™û„ÅÆÂ†¥ÂêàÔºåss taggerÂèä„Å≥gensen„ÇíÂà©Áî®„Åó„Å¶ÔºåÂìÅË©û„Å®ÂçòË™ûÔºåË§áÂêàË™û„ÇíÂæó„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü (ss tagger„ÅåÂøÖË¶ÅÔºéhttp://www-tsujii.is.s.u-tokyo.ac.jp/~tsuruoka/postagger/)\n* ProcessBuilder‰ΩøÁî®„ÅÆ„Åü„ÇÅÔºåJRE1.5‰ª•‰∏ä„ÅåÂÆüË°å„Å´ÂøÖË¶Å\n\n!!! BUGFIX\n* ÂÖ•ÂäõÂçòË™û„Çí„Çª„ÉÉ„Éà„Åó„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Åß„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰øùÂ≠ò„Åó„ÅüÂ†¥Âêà„Å´Ôºå„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂæ©ÂÖÉ„Åß„Åç„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£\n\n! 2006-01-14\n* WordSpace„ÅßÔºåË§áÂêàË™û„ÇíÊâ±„Åà„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* WordSpace„Å®Áõ∏Èñ¢„É´„Éº„É´„ÅÆ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÅÆÂêë‰∏ä\n* xdoc2txt„ÅßÔºådoc, xls, ppt, pdf„Å™„Å©„ÅÆÊñáÊõ∏„ÇÇË™≠„ÅøËæº„ÇÅ„Çã„Çà„ÅÜ„Å´„Åó„Åü (ÈÖçÂ∏É„Åô„ÇãÂ†¥Âêà„Å´„ÅØÊ≥®ÊÑè„ÅåÂøÖË¶ÅÔºéÁ†îÁ©∂ÂÆ§ÂÜÖÔºåÁ†îÁ©∂Èñ¢‰øÇ„Åß„ÅÆÂà©Áî®„ÅØOKÔºâ\n* ÂÖ®‰Ωì„ÅÆ„ÉÑ„Éº„É´„Éê„Éº„ÇíËøΩÂä†\n* ÈöéÂ±§ÊßãÁØâ„ÅÆ„ÉÑ„Éº„É´„Éê„Éº„ÅßÂêÑ„Ç¢„Ç§„Ç≥„É≥„ÅÆ„ÉÑ„Éº„É´„ÉÅ„ÉÉ„Éó„ÇíË®≠ÂÆö\n\n! 2006-01-12\n* WordSpace„ÇíÁî®„ÅÑ„ÅüÊ¶ÇÂøµÂÆöÁæ©„Åå„Å¶„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºàË§áÂêàË™û„ÅØÊâ±„Åà„Å™„ÅÑÔºâ\n\n! 2006-01-11\n* Áõ∏Èñ¢„É´„Éº„É´„ÇíÁî®„ÅÑ„ÅüÊ¶ÇÂøµÂÆöÁæ©„ÅßÔºåË§áÂêàË™û„ÅÆÊ¶ÇÂøµÂØæ„ÇÇÊâ±„Åà„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºàË§áÂêàË™û„ÇíÊâ±„ÅÜÂ†¥Âêà„Å´„ÅØÔºå„ÅÇ„Çâ„Åã„Åò„ÇÅ„Å¶ÔºåÈöéÂ±§ÊßãÁØâ„Çí„Åó„Å¶UID„ÇíÂâ≤„ÇäÊåØ„Å£„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„ÇãÔºâ\n\n! 2006-01-10\n* Áõ∏Èñ¢„É´„Éº„É´„ÇíÁî®„ÅÑ„ÅüÊ¶ÇÂøµÂÆöÁæ©„ÅßÔºåOWLÂá∫Âäõ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºà„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰øùÂ≠ò„ÅØ„Åß„Åç„Å™„ÅÑÔºâ\n* „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÈñã„ÅèÈöõ„Å´ÔºåÈÄ≤Ê≠©Áä∂Ê≥Å„ÇíË°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºàÊôÇÈñì„Çí1Áßí„Åî„Å®„Å´„Ç´„Ç¶„É≥„ÉàÔºâ\n\n! 2006-01-08\n* ÂçòË™û„ÉÜ„Éº„Éñ„É´„Çí‰øùÂ≠òÔºåÂæ©ÂÖÉ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* Ëµ∑Âãï„Ç™„Éó„Ç∑„Éß„É≥(„Ç™„É≥„É°„É¢„É™ or BerkeleyDB, ÊúÄÂ∞è„É°„É¢„É™ÔºåÊúÄÂ§ß„É°„É¢„É™)„ÇíÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü =&gt; DODDLE-J.bat\n* PDF„Éï„Ç°„Ç§„É´„ÇíÂÖ•ÂäõÊñáÊõ∏„Å®„Åó„Å¶Êâ±„Åà„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºà‰∏çÂÆåÂÖ®. PDFBox„ÇíÂà©Áî®ÔºéÔºâ\n* Áõ∏Èñ¢„É´„Éº„É´„ÇíÁî®„ÅÑ„ÅüÔºåÊ¶ÇÂøµÂÆöÁæ©„ÇíËøΩÂä†ÔºàOWLÂΩ¢Âºè„ÅßÂá∫Âäõ„Åß„Åç„Å™„ÅÑÔºé„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰øùÂ≠ò„Åß„Åç„Å™„ÅÑÔºéÔºâ\n\n! 2006-01-07\n* ÂçòË™û„ÉÜ„Éº„Éñ„É´ÔºàÂìÅË©û, TF, IDF, TFIDF, ÊñáÊõ∏ÔºåÂÖ•ÂäõÊñáÊõ∏Ôºå‰∏ä‰ΩçÊ¶ÇÂøµÔºâ„ÇíË°®Á§∫ÂèØËÉΩ„Å´„Åó„Åü\n\n! 2006-01-03\n* Ë§áÊï∞ÊñáÊõ∏„Åã„ÇâÂÖ•ÂäõÂçòË™û„ÇíÊäΩÂá∫„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* Â§öÁæ©ÊÄßËß£Ê∂àÊôÇ„Å´Ë°®Á§∫„Åô„ÇãÊñáÊõ∏„ÅØÔºåÈÅ∏Êäû„Åï„Çå„ÅüÂçòË™û„ÅåÂ≠òÂú®„Åô„ÇãË°å„ÅÆ„Åø„Å®„Åó„Åü\n\n! 2006-01-02\n* „Éó„É≠„Ç∏„Çß„ÇØ„Éà‰∏ÄË¶ß„ÇíË°®Á§∫„ÅóÔºå‰ªªÊÑè„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÊúÄÂâçÈù¢„Å´Ë°®Á§∫„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã (=&gt; „Éó„É≠„Ç∏„Çß„ÇØ„Éà„É°„Éã„É•„ÉºÔºâ\n* ‰∏äÊõ∏„Åç‰øùÂ≠ò„ÅÆÂÆüË£Ö\n* ÁµÇ‰∫ÜÊôÇ„Å´„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫\n* „Éó„É≠„Éë„ÉÜ„Ç£„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂ§âÊõ¥\n* Ëµ∑ÂãïÊôÇ„ÅÆ„É≠„Ç¥„ÇíÂ§âÊõ¥\n* ÈöéÂ±§ÊßãÁØâ„ÅÆ„Éú„Çø„É≥„Å®„É°„Éã„É•„Éº„ÇíÂêçË©û„ÅÆ„Åø„Å®ÂêçË©ûÔºãÂãïË©û„Å®„Åó„Åü (ÈöéÂ±§ÊßãÁØâÔºàÂêçË©ûÔºâ,ÈöéÂ±§ÊßãÁØâÔºàÂêçË©û„Åä„Çà„Å≥ÂãïË©ûÔºâ)\n\n! 2005-12-31\n* ÈÉ®ÂàÜ„Éû„ÉÉ„ÉÅ„Åó„ÅüÂçòË™û„Çí‰∏ã‰ΩçÊ¶ÇÂøµ„Å®„Åó„Å¶Ê¶ÇÂøµÈöéÂ±§„ÇíÊßãÁØâ„Åô„ÇãÂ†¥Âêà„Å´ÔºåÈöéÂ±§Âåñ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n =&gt;\n A+B+C+D, C+D, G+D„Åå„ÅÇ„ÇãÂ†¥Âêà„Å´ËæûÊõ∏„Å´„ÅØD„ÅÆ„Åø„Åå„ÅÇ„ÇãÂ†¥ÂêàÔºå\n D =&gt; C+D =&gt; B+C+D\n =&gt; G+D\n „Å®ÈöéÂ±§Âåñ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* „Ç™„Éó„Ç∑„Éß„É≥„ÅßË§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åô„ÇãÈöõ„Å´Ôºå‰∏≠Èñì„Éé„Éº„Éâ„ÇíÂâäÈô§„Åô„Çã„ÅãÊÆã„Åô„Åã„Çí\n„ÄÄÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„ÅüÔºé\n (‰æãÔºö A+B+C+D„ÅßD„ÅÆ„Åø„ÅåËæûÊõ∏„Å´„ÅÇ„ÇãÂ†¥ÂêàÔºå„Åì„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„ÇíÊúâÂäπ„Å´„Åô„Çã„Å®Ôºå D=&gt;A+B+C+D„Å®„Å™„ÇäÔºåÁÑ°Âäπ„Å´„Åô„Çã„Å®D=&gt;C+D=&gt;B+C+D=&gt;A+B+C+D„Å®„Å™„ÇãÔºé \n* Ë§áÊï∞„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÊâ±„Åà„Çã„Çà„ÅÜ„Å´„Åó„Åü \n* 12-15‰ª•Ââç„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂæ©ÂÖÉ„Åó„ÅüÂæå„Å´Ôºå‰øùÂ≠ò„Åó„Çà„ÅÜ„Å®„Åô„Çã„Å®ÔºåÂ§öÁæ©ÊÄßËß£Ê∂àÁµêÊûú„Åå„ÅÜ„Åæ„Åè‰øùÂ≠ò„Åß„Åç„ÅöÔºå„Éó„É≠„Ç∏„Çß„ÇØ„ÉàËá™‰Ωì„Åå‰øùÂ≠ò„Åß„Åç„Å™„Åè„Å™„Å£„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£Ôºé\n\n! 2005-12-15\n* ÈÉ®ÂàÜÁÖßÂêà„Çí„Åó„ÅüÂ†¥Âêà„Å´„ÅØÔºåÂ§öÁæ©ÊÄßËß£Ê∂àÁµêÊûú„ÇíÂÖ±Êúâ„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* ÂÆåÂÖ®ÁÖßÂêà„Åó„ÅüÂçòË™û„É™„Çπ„Éà„Çí‰øùÂ≠ò„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü(ÈÉ®ÂàÜÁÖßÂêà„Åó„ÅüÂçòË™û„ÇíÂê´„ÇÄÔºâ\n* ÈÉ®ÂàÜÁÖßÂêà„Åó„ÅüÂçòË™û„Å®ÂØæÂøú„Åô„ÇãË§áÂêàË™û„ÅÆ„É™„Çπ„Éà„Çí‰øùÂ≠ò„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂæ©ÂÖÉÂæå„Åä„Çà„Å≥ÈöéÂ±§ÊßãÁØâÂæå„Å´ÈöéÂ±§„ÇíÂ±ïÈñã„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* Ë§áÂêàË™û„ÅÆÈöéÂ±§ÊßãÁØâÊôÇ„ÅÆ„Éá„Éï„Ç©„É´„Éà„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Çí‰∏ã‰ΩçÊ¶ÇÂøµ„Å®„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n\n! 2005-12-09\n* Ê¶ÇÂøµÈöéÂ±§ÊßãÁØâ„Éë„Éç„É´„Å´„ÅÇ„Å£„Åü„Éú„Çø„É≥„Çí„Ç¢„Ç§„Ç≥„É≥„Å´Â§âÊõ¥„Åó„Å¶ÔºåÈöéÂ±§Á∑®ÈõÜÈ†òÂüü„ÇíÂ∫É„Åí„Åü\n\n! 2005-11-29\n* ‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ„É™„Çπ„ÉàÔºàUPPER_CONCEPT_LIST)„ÇíÊåáÂÆö„Åô„Çã„Åì„Å®„ÅßÔºåÊäΩÂá∫„Åï„Çå„ÅüÂçòË™û„ÅÆ„É™„Çπ„Éà„Çí‰∏ä‰ΩçÊ¶ÇÂøµ„ÇíÂà©Áî®„Åó„Å¶„Éï„Ç£„É´„Çø„Éº„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºé\n\n! 2005-10-26\n* ËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„ÇíÊ§úÁ¥¢„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* Ê¶ÇÂøµ„ÅÆÊ§úÁ¥¢„ÇíÂ∞ë„ÅóÔºåÈ´òÈÄü„Å´„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* Ê¶ÇÂøµ„ÅÆ„ÇØ„É≠„Éº„É≥Ôºå„Ç≥„Éî„ÉºÔºå„Ç´„ÉÉ„ÉàÔºå„Éö„Éº„Çπ„Éà„ÇíÂÆüË£Ö\n* ËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„Å´ÂçòË™û„ÇíËøΩÂä†„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* „Éé„Éº„ÉâÁßªÂãïÊôÇ„Å´ÔºåÂ§öÈáçÁ∂ôÊâøÈñ¢‰øÇ„ÅÆÂÜçË°®Á§∫„Çí„Åó„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£\n\n! 2005-10-17\n*''„ÄêÈáçË¶Å„Äë''Âæ©ÂÖÉÊôÇ„Å´„É¶„Éº„Ç∂ID„ÅÆÂÄ§„ÅåÊó¢Â≠ò„ÅÆÊúÄÂ§ßID„ÅÆÂÄ§„Å®Âêå„Åò„Å´„Å™„Å£„Å¶„ÅÑ„Åü„Åü„ÇÅ„Å´ÔºåÊñ∞„Åü„Å´Ê¶ÇÂøµ„ÇíËøΩÂä†„Åô„ÇãÈöõ„Å´ÔºåÊó¢Â≠ò„ÅÆÊúÄÂ§ßID„ÅÆÊ¶ÇÂøµ„ÇíÂèÇÁÖß„Åó„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£\n*''„ÄêÈáçË¶Å„Äë''„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÂæ©ÂÖÉ„Åô„ÇãÈöõ„Å´ÔºåÊ¶ÇÂøµÈöéÂ±§„Å®Ê¶ÇÂøµÂÆöÁæ©„ÅÆÂÜÖÂÆπ„Çí„ÇØ„É™„Ç¢„Åó„Å¶„ÅÑ„Å™„Åã„Å£„Åü„ÅÆ‰øÆÊ≠£\n* EDR„ÅÆÊ¶ÇÂøµ„Å´„Å§„ÅÑ„Å¶„ÅØÔºåEDR„ÅÆÂêçÂâçÁ©∫Èñì„ÇíË®≠ÂÆö„Åô„Çã„Çà„ÅÜ„Å´‰øÆÊ≠£\n* „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂæ©ÂÖÉÂæå„Å´ÔºåÊ¶ÇÂøµÂÆöÁæ©„Å´„Åä„Åë„ÇãÂÆöÁæ©Âüü„Å®ÂÄ§Âüü„ÅÆËøΩÂä†„Åå„Åß„Åç„Å™„Åã„Å£„Åü„ÅÆ„Çí‰øÆÊ≠£\n* ÂÆöÁæ©ÂüüÔºåÂÄ§Âüü„ÇíËøΩÂä†„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„Å´Ôºå„Åô„Åπ„Å¶„ÅÆ„Éë„Çπ„ÇíÂ±ïÈñã„Åô„Çã„Åü„ÇÅ„ÅÆ„Éú„Çø„É≥„ÇíËøΩÂä†\n\n! 2005-09-15\n* ÂÆöÁæ©Âüü„Å®ÂÄ§Âüü„ÅÆËøΩÂä†ÔºåÂâäÈô§„ÇíÂÆüË£Ö\n* config.txt„Å´„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰øùÂ≠ò„Åô„Çã„Éï„Ç©„É´„ÉÄ„ÇíÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü(PROJECT_DIR) („Éá„Éï„Ç©„É´„Éà„ÅØÔºå./project/Ôºâ\n\n! 2005-09-12\n* Ê¶ÇÂøµ„ÅÆËøΩÂä†ÔºåÂâäÈô§„Å™„Å©„ÇíÔºå„Éé„Éº„Éâ„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„Å®„Åç„Å´Ôºå„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„É°„Éã„É•„Éº„Åã„ÇâÂÆüË°å„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* BaseURI„Çí‰øùÂ≠ò„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* Áõ∏ÂØæURI„Åß„Ç™„É≥„Éà„É≠„Ç∏„Éº„Çí‰øùÂ≠ò„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n\n! 2005-09-08\n* „Ç™„Éó„Ç∑„Éß„É≥„ÅÆ‰øùÂ≠ò„ÉªÂæ©ÂÖÉ„ÇíÂÆüË£Ö\n* ÔºíÂàÜÊé¢Á¥¢„ÇíÂà©Áî®„Åó„Å¶ÔºåËæûÊõ∏„Éá„Éº„Çø„ÇíÂèÇÁÖß„Åß„Åç„Çã„Çà„ÅÜ„Å´‰øÆÊ≠£ ‚ÜíËæûÊõ∏„Éá„Éº„Çø„ÇíÊõ¥Êñ∞ÔºéDB„ÇíÂà©Áî®„Åó„Å™„ÅÑÂ†¥Âêà„Åß„ÇÇÔºå„Åù„Åì„Åù„Åì„É°„É¢„É™„Çí„Åè„Çè„Å™„ÅÑ„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* „Çπ„Éó„É©„ÉÉ„Ç∑„É•„Ç¶„Ç£„É≥„Éâ„Ç¶„ÇíËµ∑ÂãïÊôÇ„Å´Ë°®Á§∫„Åô„Çã„Çà„ÅÜ„Å´„Åó„Åü\n* „Éó„É≠„Éë„ÉÜ„Ç£ÈöéÂ±§„ÅåÂæ©ÂÖÉ„Åß„Åç„Å™„Åè„Å™„Å£„Å¶„ÅÑ„Åü„ÅÆ„Çí‰øÆÊ≠£ („É¶„Éº„Ç∂ÂÆöÁæ©„ÅÆÊ¶ÇÂøµ„ÅÆID„ÅåÂæ©ÂÖÉÊôÇ„Å´„Åä„Åã„Åó„Åè„Å™„ÇãÂ†¥Âêà„Åå„ÅÇ„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑÔºéÔºâ\n* config.txt„ÅßÔºåBASE_URI„ÇíÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n\n! 2005-09-06\n* ‰∏ä‰ΩçÊ¶ÇÂøµ„Å∏„ÅÆ„É™„É≥„ÇØ„ÅÆ„ÅøÂâäÈô§„ÇíÂÆüË£Ö\n* ÂÖ®„Éé„Éº„Éâ„Å´„Å§„ÅÑ„Å¶Ôºå„ÅÇ„ÇãÁ®ãÂ∫¶È´òÈÄü„Å´Â§öÈáçÁ∂ôÊâø„Çí„Åó„Å¶„ÅÑ„Çã„Åã„Å©„ÅÜ„Åã„ÇíÂà§Âà•„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Åü\n\n! 2005-09-05\n* ËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„ÅÆÂâäÈô§„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* ËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„Çí„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ‰øùÂ≠ò„ÉªÂæ©ÂÖÉ„Åß‰øùÂ≠ò„ÉªÂæ©ÂÖÉ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü\n* Ê¶ÇÂøµÈöéÂ±§„Åã„ÇâËæûÊõ∏„Å´Ëºâ„Å£„Å¶„ÅÑ„Å™„ÅÑÂçòË™û„É™„Çπ„Éà„Å∏ÁßªÂãï„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºéÔºà„Åü„Å†„ÅóÔºåÂ≠ê„Éé„Éº„Éâ„Çí„ÇÇ„Å§„Éé„Éº„Éâ„ÇíÈÅ∏Êäû„Åó„ÅüÂ†¥ÂêàÔºåÈÅ∏Êäû„Åï„Çå„Åü„Éé„Éº„Éâ„ÅÆ‰ª£Ë°®Ë¶ãÂá∫„Åó„ÅÆ„Åø„ÅåÁßªÂãï„Åï„ÇåÔºå„Åù„ÅÆ‰ªñ„ÅÆË¶ãÂá∫„Åó„Åä„Çà„Å≥‰∏ã‰ΩçÊ¶ÇÂøµ„ÅÆË¶ãÂá∫„Åó„Å™„Å©„ÅØÂâäÈô§„Åï„Çå„ÇãÔºéÔºâ\n* ËæûÊõ∏„Éá„Éº„Çø„Å®„Éó„É≠„Ç∞„É©„É†„ÇíÂàÜÈõ¢„Åó„Åü (config.txt„ÅÆDODDLE_DIC„Å´ËæûÊõ∏„Éá„Éº„Çø„ÅÆÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÔºéÔºâ\n</div>
<div tiddler="DefaultTiddlers" modifier="TakeshiMorita" modified="200601311928" created="200601311928" tags="">[[NEWS]] [[README]]</div>
<div tiddler="FormattingInstructions" modifier="TakeshiMorita" modified="200602062352" created="200601311922" tags="">TiddlyWiki uses Wiki style markup, a way of lightly &quot;tagging&quot; plain text so it can be transformed into HTML. Edit this Tiddler to see samples.\n\n! Header Samples\n!Header 1\n!!Header 2\n!!!Header 3\n!!!!Header 4\n!!!!!Header 5\n\n! Unordered Lists:\n* Lists are where it's at\n* Just use an asterisk and you're set\n** To nest lists just add more asterisks...\n***...like this\n* The circle makes a great bullet because once you've printed a list you can mark off completed items\n* You can also nest mixed list types\n## Like this\n\n! Ordered Lists\n# Ordered lists are pretty neat too\n# If you're handy with HTML and CSS you could customize the [[numbering scheme|http://www.w3schools.com/css/pr_list-style-type.asp]]\n## To nest, just add more octothorpes (pound signs)...\n### Like this\n* You can also\n** Mix list types\n*** like this\n# Pretty neat don't you think?\n\n! Tiddler links\nTo create a Tiddler link, just use mixed-case WikiWord, or use [[brackets]] for NonWikiWordLinks. This is how the GTD style [[@Action]] lists are created. \n\nNote that existing Tiddlers are in bold and empty Tiddlers are in italics. See CreatingTiddlers for details.\n\n! External Links\nYou can link to [[external sites|http://google.com]] with brackets. You can also LinkToFolders on your machine or network shares.\n\n! Images\nEdit this tiddler to see how it's done.\n[img[http://img110.echo.cx/img110/139/gorilla8nw.jpg]]\n\n!Tables\n|!th1111111111|!th2222222222|\n|&gt;| colspan |\n| rowspan |left|\n|~| right|\n|colored| center |\n|caption|c\n\nFor a complex table example, see PeriodicTable.\n\n! Horizontal Rules\nYou can divide a tiddler into\n----\nsections by typing four dashes on a line by themselves.\n\n! Blockquotes\n&lt;&lt;&lt;\nThis is how you do an extended, wrapped blockquote so you don't have to put angle quotes on every line.\n&lt;&lt;&lt;\n&gt;level 1\n&gt;level 1\n&gt;&gt;level 2\n&gt;&gt;level 2\n&gt;&gt;&gt;level 3\n&gt;&gt;&gt;level 3\n&gt;&gt;level 2\n&gt;level 1\n\n! Other Formatting\n''Bold''\n==Strike==\n__Underline__\n//Italic//\nSuperscript: 2^^3^^=8\nSubscript: a~~ij~~ = -a~~ji~~\n@@highlight@@ Unfortunately highlighting is broken right now.\n@@color(green):green colored@@\n@@bgcolor(#ff0000):color(#ffffff):red colored@@ Hex colors are also broken right now.\n</div>
<div tiddler="Licenses" modifier="TakeshiMorita" modified="200602042039" created="200601311922" tags="">! Jena\nhttp://jena.sourceforge.net/license.html\n\n! SEN\n[[GNU LESSER GENERAL PUBLIC LICENSE Version 2.1|http://www.gnu.org/copyleft/lesser.txt]]\n\n! JWNL\n[[The BSD License|http://www.opensource.org/licenses/bsd-license.php]]\n\n! Berkeley DB Java Edition\nhttp://www.sleepycat.com/company/jeoslicense.html\n\n! GNU getopt - Java port\nhttp://www.gnu.org/licenses/gpl.txt</div>
<div tiddler="MainMenu" modifier="TakeshiMorita" modified="200602011202" created="200601311923" tags="">[[NEWS]]\n[[README]]\nChangeLog \n[[BUGS]]\n[[TODO]]\n[[Licenses]]\n</div>
<div tiddler="NEWS" modifier="TakeshiMorita" modified="200602070046" created="200601311920" tags="">!! ÊäΩË±°„Éé„Éº„Éâ„ÇíËøΩÂä†„Åô„ÇãÂá¶ÁêÜ„Å´Èñ¢„Åó„Å¶„ÅØÔºå„ÉÜ„Çπ„Éà„ÅåÂçÅÂàÜ„Åß„ÅØ„Å™„ÅÑ„Åü„ÇÅÔºå„Éê„Ç∞„ÇíÂê´„Çì„Åß„ÅÑ„ÇãÂèØËÉΩÊÄß„ÅåÈ´ò„ÅÑ„Åß„ÅôÔºé\n\n* 2006-02-24 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n* 2006-02-10 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n* 2006-02-08 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n* 2006-02-06 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n* 2006-02-01 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n* 2006-01-31 „Éê„Éº„Ç∏„Éß„É≥„Çí„Ç¢„ÉÉ„Éó\n\n\n</div>
<div tiddler="PageTemplate" modifier="TakeshiMorita" modified="200602011152" created="200511291115" tags="systemTiddlers">&lt;div id='header'&gt;\n&lt;div id='titleLine'&gt;\n&lt;span id='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;\n&lt;span id='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id='sidebar'&gt;\n&lt;div id='mainMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;\n&lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;\n&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;&lt;div id=&quot;licensePanel&quot;&gt;\n&lt;a rel=&quot;license&quot; href=&quot;http://shared.snapgrid.com/gtd_tiddlywiki.html#RevisionHistory&quot; target=&quot;_new&quot;&gt;GTDTW Version &lt;span macro=&quot;version&quot;&gt;&lt;/span&gt;&lt;/a&gt;\n&lt;a rel=&quot;license&quot; href=&quot;http://www.tiddlywiki.com&quot; target=&quot;_new&quot;&gt;\nTiddlyWiki is published by Jeremy Ruston at Osmosoft under a BSD open source license&lt;/a&gt;\n&lt;a rel=&quot;license&quot; href=&quot;http://snapgrid.com&quot; target=&quot;_new&quot;&gt;GTD TiddlyWiki is a modification by Nathan Bowers at Snapgrid under the same license terms.&lt;/a&gt;\n&lt;a rel=&quot;license&quot; href=&quot;http://davidco.com&quot; target=&quot;_new&quot;&gt;&quot;Getting Things Done&quot; is &amp;#169; David Allen at Davidco. Davidco has no affiliation with TiddlyWiki or GTD TiddlyWiki.&lt;/a&gt;\n&lt;a rel=&quot;license&quot; href=&quot;http://hsj.jp/works/archives/001471.html&quot; target=&quot;_new&quot;&gt;\nÊó•Êú¨Ë™ûÂåñ„ÅØ„ÄåÁ∂ö„ÉªTiddlyWiki„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÊó•Êú¨Ë™ûÂåñ„Åó„Å¶„Åø„Çã„Äç„ÇíÂèÇËÄÉ„Å´Ë°å„ÅÑ„Åæ„Åó„ÅüÔºé\n&lt;/a&gt;\n&lt;/div&gt;&lt;/div&gt;\n&lt;div id='displayArea'&gt;\n&lt;div id='messageArea'&gt;&lt;/div&gt;\n&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;</div>
<div tiddler="README" modifier="TakeshiMorita" modified="200602042040" created="200601311920" tags="">! Êó•Êú¨Ë™ûDODDLE„Å´„Å§„ÅÑ„Å¶\nÊó•Êú¨Ë™û„Åæ„Åü„ÅØËã±Ë™ûÊñáÊõ∏„ÇíÂÖ•Âäõ„Å®„Åó„Å¶Ôºå„Ç™„É≥„Éà„É≠„Ç∏„ÉºÔºàÊ¶ÇÂøµÈöéÂ±§ÊßãÁØâ„Å®„Åù„ÅÆ‰ªñ„ÅÆÊ¶ÇÂøµÈñìÈñ¢ÈÄ£ÊßãÁØâÔºâ„ÇíÂçäËá™Âãï„ÅßÊßãÁØâÂèØËÉΩ„Å™„Ç™„É≥„Éà„É≠„Ç∏„ÉºÊßãÁØâÊîØÊè¥Áí∞Â¢É„Åß„ÅôÔºéÊ¶ÇÂøµÈöéÂ±§ÊßãÁØâ„Å´„ÅØË®àÁÆóÊ©üÂèØË™≠ÂûãËæûÊõ∏ÔºàEDRÔºâ„ÇíÂà©Áî®„ÅóÔºå„Åï„Çâ„Å´ÔºåÊ¶ÇÂøµÂ§âÂãïÂàÜÊûê„ÇíÈÅ©Áî®„Åô„Çã„Åì„Å®„Å´„Çà„Å£„Å¶ÔºåÈöéÂ±§„ÅÆÊ¥óÁ∑¥„ÇíË°å„ÅÑ„Åæ„ÅôÔºé„Åù„ÅÆ‰ªñ„ÅÆÊ¶ÇÂøµÈñìÈñ¢‰øÇÊßãÁØâ„Å´„ÅØÔºåÊñáÊõ∏„Å´WordSpace„ÇÑÁõ∏Èñ¢„É´„Éº„É´„Å™„Å©„ÅÆÂÖ±Ëµ∑ÊÄßÂàÜÊûê„ÇíÂà©Áî®„Åó„Åæ„ÅôÔºéÊßãÁØâ„Åó„Åü„Ç™„É≥„Éà„É≠„Ç∏„Éº„ÅØÔºå„Çª„Éû„É≥„ÉÜ„Ç£„ÉÉ„ÇØWeb„Å´„Åä„Åë„ÇãÊ®ôÊ∫ñÁöÑ„Å™„Ç™„É≥„Éà„É≠„Ç∏„ÉºË®òËø∞Ë®ÄË™ûOWLÂΩ¢Âºè„ÅßÂá∫Âäõ„Åô„Çã„Åì„Å®„ÅåÂèØËÉΩ„Åß„ÅôÔºé\n\n! ‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„É©„Ç§„Éñ„É©„É™\n* [[Jena 2.3|http://jena.sourceforge.net/]]\n* [[SEN 1.2.1|http://ultimania.org/sen/]]\n* [[Berkley DB Java Edition|http://www.sleepycat.com/products/bdbje.html]]\n* [[JWNL 1.3|http://jwordnet.sourceforge.net/]] \n* [[GNU getopt - Java port 1.0.11|http://www.urbanophile.com/arenn/hacking/download.html]]\n\n!!! „Ç™„Éó„Ç∑„Éß„É≥\n* [[ÂΩ¢ÊÖãÁ¥†Ëß£Êûê„Ç∑„Çπ„ÉÜ„É†Ëå∂Á≠å|http://chasen.naist.jp/hiki/ChaSen/]]\n* [[TermExtract|http://gensen.dl.itc.u-tokyo.ac.jp/termextract.html]]\n* [[PDFBox 0.7.2|http://www.pdfbox.org/]]\n* [[xdoc2txt 1.17|http://www31.ocn.ne.jp/~h_ishida/xdoc2txt.html]]\n\nË§áÂêàË™û„ÇíÊäΩÂá∫„Åó„Åü„ÅÑÂ†¥Âêà„Å´„ÅØÔºåËå∂Á≠å„Å®TermExtract„ÅåÂøÖË¶ÅÔºé\nWindows‰ª•Â§ñ„ÅÆOS„ÅßPDF„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫„Åó„Åü„ÅÑÂ†¥Âêà„Å´„ÅØÔºåPDFBox„ÅåÂøÖË¶ÅÔºé\nWindows OS„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Å¶Ôºåword, excel, ppt, pdfÁ≠â„Åã„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫„Åó„Åü„ÅÑÂ†¥Âêà„Å´„ÅØÔºåxdoc2txt„ÅåÂøÖË¶ÅÔºé\n\n! „Éâ„Ç≠„É•„É°„É≥„Éà\n* ChangeLog\n* [[TODO]]\n* [[BUGS]]\n* [[Licenses]]\n\n! Âà©Áî®ÂèØËÉΩ„Å™ÈõªÂ≠êÂåñËæûÊõ∏\n* EDR\n\n! „Ç§„É≥„Çπ„Éà„Éº„É´ÊñπÊ≥ï\n# JRE1.5‰ª•‰∏ä„Çí„Ç§„É≥„Çπ„Éà„Éº„É´Ôºéjava.exe„ÅÆÂ†¥ÊâÄ„ÇíÁí∞Â¢ÉÂ§âÊï∞PATH„Å´ËøΩÂä†Ôºé\n# ËæûÊõ∏„Éá„Éº„Çø(DODDLE_DIC_xxxx.zip)„ÇíÈÅ©ÂΩì„Å™Â†¥ÊâÄ„Å´Â±ïÈñã„Åô„ÇãÔºé\n# Êó•Êú¨Ë™ûDODDLE„Éó„É≠„Ç∞„É©„É†(DODDLE-J-xxxx.zip)„ÇíÈÅ©ÂΩì„Å™Â†¥ÊâÄ„Å´Â±ïÈñã„Åô„ÇãÔºé\n# Ë®ÄÈÅ∏„ÇíÂà©Áî®„Åô„ÇãÂ†¥Âêà„Å´„ÅØÔºå[[TermExtract|http://gensen.dl.itc.u-tokyo.ac.jp/termextract.html]]„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„Çã\n# Êó•Êú¨Ë™ûDODDLE„Éó„É≠„Ç∞„É©„É†„ÇíÂ±ïÈñã„Åó„Åü„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇãÔºåconfig.txt„ÅÆÂÜÖÂÆπ„Çí‰øÆÊ≠£„Åô„Çã\n** ÊúÄ‰ΩéÈôêÔºåDODDLE_DIC„ÇíË®≠ÂÆö„Åô„ÇãÔºé\n# DODDLE-J-onMemory.bat„ÄÄ„Åæ„Åü„ÅØ DODDLE-J-using_DB.bat„ÇíÂÆüË°å\n** DODDLE-J-onMemory.bat„ÅÆÊñπ„ÅØÔºåDB„ÇíÂà©Áî®„Åó„Å™„ÅÑ„ÅåÔºå„É°„É¢„É™„ÅåÂ§ßÈáè„Å´ÂøÖË¶ÅÔºà1GBÁ®ãÂ∫¶: -Xmx„Ç™„Éó„Ç∑„Éß„É≥„ÅßÔºå512m„ÇíÊåáÂÆö„Åó„Å¶„ÅÑ„Çã)\n** DODDLE-J_using_DB.bat„ÅÆÊñπ„ÅØÔºåDB„ÇíÂà©Áî®„Åô„Çã„Åü„ÇÅÔºåÂãï‰ΩúÈÄüÂ∫¶„ÅåÈÅÖ„ÅÑ„ÅåÔºå„É°„É¢„É™„ÅØ512MB(-Xmx„Ç™„Éó„Ç∑„Éß„É≥„ÅßÔºå256m„ÇíÊåáÂÆö„Åó„Å¶„ÅÑ„ÇãÔºâ„Åª„Å©„ÅÇ„Çå„Å∞Âãï‰ΩúÂèØËÉΩÔºé\n** „Åü„Å†„ÅóÔºåÊ¶ÇÂøµÊï∞„ÅåÂ§ö„ÅÑÂ†¥Âêà„Å´„ÅØÔºå‰∏äË®ò‰ª•‰∏ä„ÅÆ„É°„É¢„É™„ÅåÂøÖË¶Å„Å®„Å™„ÇãÂ†¥Âêà„ÇÇ„ÅÇ„ÇãÔºé\n\n!! Ê≥®ÊÑèÁÇπ\n* ‰ª•Ââç„ÅÆ„Éê„Éº„Ç∏„Éß„É≥(2005-09)„Åß‰ΩúÊàê„Åó„Åü„Ç™„É≥„Éà„É≠„Ç∏„Éº„ÇíË™≠„ÅøËæº„ÇÄÂ†¥Âêà„ÅØÔºåBASE_URI„ÅÆË®≠ÂÆö„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã\n\n! config.txt„Å´„Å§„ÅÑ„Å¶\n* CHASEN_EXE=C:/Program Files/ChaSen/chasen.exe\n** Ë®ÄÈÅ∏„ÇíÂà©Áî®„Åô„ÇãÂ†¥ÂêàÂøÖË¶ÅÔºàchasen21„ÅØ‰∏çÂèØÔºâ\n* SSTAGGER_HOME=C:/usr/postagger-1.0/\n** Ëã±Ë™ûÊñáÊõ∏„ÅÆÂìÅË©ûÊÉÖÂ†±„ÇíÂæó„Çã„Åü„ÇÅ„Å´ÂøÖË¶ÅÔºé\n* PERL_EXE=C:/Perl/bin/perl.exe\n** Ë®ÄÈÅ∏„ÇíÂà©Áî®„Åô„ÇãÂ†¥ÂêàÂøÖË¶Å\n* DODDLE_DIC=C:/DODDLE_DIC/\n** ÂøÖÈ†àÔºéËæûÊõ∏„Éá„Éº„Çø„ÇíÂ±ïÈñã„Åó„ÅüÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„Çã\n* BASE_URI=http://www.yamaguti.comp.ae.keio.ac.jp/doddle-j# \n** „Ç™„É≥„Éà„É≠„Ç∏„Éº‰øùÂ≠òÊôÇ„ÅÆ„Éô„Éº„ÇπURI\n* PROJECT_DIR=./project/ \n** „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åô„Çã„Éï„Ç©„É´„ÉÄÔºà„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰øùÂ≠ò„ÉªÂæ©ÂÖÉ„Åô„ÇãÈöõ„Å´ „Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„ÅåÂü∫ÁÇπ„Å®„Å™„ÇãÔºâ\n* UPPER_CONCEPT_LIST=./upperConceptList.txt\n** ‰∏ä‰ΩçÊ¶ÇÂøµ„ÅÆ„É™„Çπ„ÉàÔºé„ÅÇ„ÇãÂçòË™û„ÅåEDR‰∏ä„ÅÆÊåáÂÆö„Åó„ÅüÊ¶ÇÂøµ„ÅÆ‰∏ã‰Ωç„Å´„ÅÇ„Çã„Åã„Å©„ÅÜ„Åã„ÇíÊèêÁ§∫„Åô„Çã„Åü„ÇÅ„Å´Âà©Áî®Ôºé\n* WORDNET_PATH=C:/program files/wordnet/2.0/dict\n** WordNet„ÅÆdict„Éï„Ç©„É´„ÉÄ„Å∏„ÅÆ„Éë„Çπ„ÇíË®òËø∞Ôºé(WordNet„ÇíÊ±éÁî®ËæûÊõ∏„Å®„Åó„Å¶Âà©Áî®„Åó„Åü„ÅÑÂ†¥Âêà„Å´ÊåáÂÆöÔºâ\n\n\n! „Ç™„Éó„Ç∑„Éß„É≥\n* --DB: BerkeleyDB„Çí‰ΩøÁî®\n* --DEBUG: „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±„Çí„Ç≥„É≥„ÇΩ„Éº„É´„Å´Ë°®Á§∫\n</div>
<div tiddler="SiteSubtitle" modifier="TakeshiMorita" modified="200601311924" created="200601311924" tags="">Domain Ontology rapiD DeveLopment Environment</div>
<div tiddler="SiteTitle" modifier="TakeshiMorita" modified="200602031356" created="200601311924" tags="">DODDLE</div>
<div tiddler="StyleSheet" modifier="TakeshiMorita" modified="200602011202" created="200512071922" tags="systemTiddlers">/***\n!GTD Style\n\n!Generic rules /%==================================================================== %/\n***/\n/*{{{*/\nbody {\n background: #464646 url('http://shared.snapgrid.com/images/tiddlywiki/bodygradient.png') repeat-x top fixed;\n color: #000;\n font: .9em/1.25em &quot;Bitstream Vera Sans&quot;, Verdana, Helvetica, Arial, sans-serif;\n/*&quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;,&quot;Trebuchet MS&quot;, */\n}\n/*}}}*/\n/***\n!Header rules /%====================================================================== %/\n***/\n/*{{{*/\n#contentWrapper\n{\n margin: 0 auto;\nwidth: 70em;\nposition: relative;\n}\n\n#header\n{\n color: #fff;\n padding: 1.5em 1em 1.5em 0;\n}\n\n#siteTitle {\n\n font-size: 2.5em;\n margin: 0;\n}\n\n#siteSubtitle {\n font-size: 1em;\n padding-left: .8em;;\n}\n\n#titleLine{\n background: transparent;\n padding: 0;\n}\n\n#titleLine a {\n color: #cf6;\n}\n/*}}}*/\n/***\n!Sidebar rules /%====================================================================== %/\n***/\n/*{{{*/\n#sidebar{\n left: 0;\nwidth: 18em;\n margin: .9em .9em 0 0;\n color: #000;\n font-size: 1.1em;\n background: transparent;\n}\n/*}}}*/\n/***\n!Main menu rules /%=================================================================== %/\n***/\n/*{{{*/\n#mainMenu{\n position: static;\n width: auto;\n\n background: #600;\n border-right: 3px solid #500;\npadding: 0;\n text-align: left;\n font-size: 1em;\n}\n\n#mainMenu ul{\n padding: 0;\n margin: 0;\n list-style: none;\n}\n\n#mainMenu li a,\n#mainMenu li a.button{\n display: block;\n padding: 0 5px 0 10px;\nborder: 0;\n border-bottom: 1px solid #500;\n border-top: 1px solid #900;\nmargin: 0;\n}\n\n#mainMenu a,\n#mainMenu a.button{\n height: 22px;\nheight: 1.83em;\n line-height: 22px;\n color: #fff;\n background: #700;\nmargin-left: 1em;\n}\n\n#mainMenu a:hover,\n#mainMenu a.button:hover {\n background: #b00;\n color: #fff;\n}\n/*}}}*/\n/***\n!Sidebar options rules /%============================================================ %/\n***/\n/*{{{*/\n#sidebarOptions {\n background: #eeb;\n border-right: 3px solid #bb8;\n color: #B4C675;\n padding: .5em 0;\n}\n\n#sidebarOptions a {\n color: #700;\n margin: .2em .8em;\n padding: 0;\n border: 0;\n}\n\n#sidebarOptions a:hover, #sidebarOptions a:active {\n color: #fff;\n background: #700;\n border: 0;\n}\n\n#sidebarOptions input{\n margin: 2px 10px;\n border: 1px inset #333;\npadding: 0;\n}\n\n#sidebarOptions .sliderPanel {\n background: #fff;\n color: #000;\n padding: 5px 10px;\n font-size: .9em;\n}\n\n#sidebarOptions .sliderPanel a{\n font-weight: normal;\n margin: 0;\n}\n\n#sidebarOptions .sliderPanel a:link,#sidebarOptions .sliderPanel a:visited {\n color: #700;\n}\n\n#sidebarOptions .sliderPanel a:hover,#sidebarOptions .sliderPanel a:active {\n color: #fff;\n background: #700;\n}\n/*}}}*/\n/***\n!Sidebar tabs rules /%===================================================================== %/\n***/\n/*{{{*/\n#sidebarTabs {\n background: transparent;\n border-right: 3px solid #740;\n border-bottom: 3px solid #520;\n border: 0;\n padding: 0;\n}\n\n#contentWrapper #sidebarTabs a,\n#contentWrapper #displayArea .tabContents a{\n color: #fff;\n}\n\n#contentWrapper #sidebarTabs a:hover,\n#contentWrapper #displayArea .tabContents a:hover {\n background: #000;\n color: #fff;\n}\n\n#contentWrapper #sidebarTabs a:active,\n#contentWrapper #displayArea .tabContents a:active{\n color: #000;\n}\n\n\n\n#contentWrapper .tabSelected {\n background: #960;\n}\n\n#contentWrapper .tabUnselected{\n background: #660;\n}\n\n#contentWrapper #sidebar .tabset{\n background: #eeb;\n border-right: 3px solid #bb8;\n padding: 0 0 0 .75em;\n}\n\n#contentWrapper .tabContents{\nfont-size: .95em;\nbackground: #960;\nborder:0;\n border-right: 3px solid #740;\n border-bottom: 3px solid #520;\n padding: .75em;\n}\n\n#contentWrapper .tabContents{\n width: auto;\n}\n\n#contentWrapper #sidebarTabs .tabContents .tabset,\n#contentWrapper .tabContents .tabset{\n border: 0;\n padding: 0;\n background: transparent;\n}\n\n#contentWrapper .tabContents .tabSelected,\n#contentWrapper .tabContents .tabContents {\n background: #700;\n border: 0;\n}\n\n#contentWrapper .tabContents .tabUnselected {\n background: #440;\n}\n\n#contentWrapper .tabset a {\n color: #fff;\n padding: .2em .7em;\n margin: 0 .17em 0 0;\n height: 2em;\nposition: static;\n}\n\n#contentWrapper .tabset a:hover {\n background: #000;\n color: #fff;\n}\n\n#contentWrapper .tabset a:active {\n color: #000;\n}\n\n#contentWrapper .tabContents ul{\n margin: 0;\n padding: 0;\n list-style: none;\n}\n\n#contentWrapper .tabContents .tabContents ul{\n color: #eeb;\n}\n\n.tabContents ul a,\n.tabContents ul .button{\n color: #fff;\n display: block;\n padding: .1em 0 .1em .7em;\n background: transparent;\n border: 0;\n}\n\n.tabContents ul a:hover {\n color: #fff;\n background: #000;\n}\n/*}}}*/\n/***\n!License panel rules /%==================================================================== %/\n***/\n/*{{{*/\n#licensePanel {\n padding: 0px 1em;\n font-size: .9em;\n}\n\n#licensePanel a {\n color: #960;\n display: block;\n margin-top: .9em;\n}\n\n#licensePanel a:hover {\n color: #fff;\n background: transparent;\n}\n/*}}}*/\n/***\n!Popup rules /%================================================================= %/\n***/\n/*{{{*/\n.popup {\n font-size: .8em;\n padding: 0em;\n background: #333;\n border: 1px solid #000;\n}\n\n.popup hr {\n margin: 1px 0 0 0;\n visibility: hidden;\n}\n\n.popup li.disabled {\n color: #666;\n}\n\n.popup li a,\n.popup li a:visited{\n color: #000;\n border: .1em outset #cf6;\n background: #cf6;\n}\n\n.popup li a:hover {\nborder: .1em outset #cf6;\n background: #ef9;\n color: #000;\n}\n/*}}}*/\n/***\n!Message area rules /%================================================================= %/\n***/\n/*{{{*/\n#messageArea{\n font-size: .9em;\n padding: .4em;\n background: #FFE72F;\n border-right: .25em solid #da1;\n border-bottom: .25em solid #a80;\n\nposition: fixed;\n top: 10px;\n right: 10px;\n color: #000;\n}\n\n#contentWrapper #messageArea a{\n color: #00e;\n text-decoration: none;\n}\n\n#contentWrapper #messageArea a:hover{\n color: #00e;\n text-decoration: underline;\n background: transparent;\n}\n\n#contentWrapper #messageArea .messageToolbar a.button{\n border: 1px solid #da1;\n}\n\n#contentWrapper #messageArea .messageToolbar a.button:hover{\n color: #00e;\n text-decoration: none;\n border: 1px solid #000;\n background: #fff;\n}\n\n\n\n/*}}}*/\n/***\n!Tiddler display rules /%================================================================== %/\n***/\n/*{{{*/\n#displayArea {\n width: 50em;\n margin: 0 0 0 21em;\n}\n\n.tiddler {\n margin: 0 0 .9em 0;\n padding: 0 1em;\n border-right: .25em solid #aaa;\n border-bottom: .25em solid #555;\n background: #fff;\n}\n\n.title {\n font-size: 2em;\n padding-bottom: 0.3em;\n font-weight: bold;\n color: #900;\n}\n\n.toolbar {\n font-size: .8em;\n padding: .5em 0;\n}\n\n.toolbar .button{\n padding: .1em .3em;\n color: #000;\n\n border: .1em outset #cf6;\n background: #cf6;\nmargin: .1em;\n}\n\n.toolbar .button:hover {\n background: #ef9;\n color: #000;\n}\n\n.toolbar .button:active {\n background: #ff0;\n}\n\n/*}}}*/\n/***\n!Viewer rules /% ------------------------------------------------------------------------------------------ %/\n***/\n/*{{{*/\n.viewer {\n line-height: 1.4em;\n font-size: 1em;\n}\n\n.viewer a:link, .viewer a:visited {\n color: #15b;\n}\n\n.viewer a:hover {\n color: #fff;\n background: #000;\n}\n\n.viewer .button{\n background: transparent;\n border-top: 1px solid #eee;\n border-left: 1px solid #eee;\n border-bottom: 1px solid #000;\n border-right: 1px solid #000;\n}\n\n.viewer .button:hover{\n background: #eee;\n color: #000;\n}\n\n.viewer .button:active{\n background: #ccc;\n border-bottom: 1px solid #eee;\n border-right: 1px solid #eee;\n border-top: 1px solid #111;\n border-left: 1px solid #111;\n}\n\n\n.viewer blockquote {\n border-left: 3px solid #777;\n margin: .3em;\n padding: .3em;\n}\n\n.viewer pre{\n background: #fefefe;\n border: 1px solid #f1f1f1;\n}\n\n.viewer pre, .viewer code{\n color: #000;\n}\n\n.viewer ul {\n padding-left: 30px;\n}\n\n.viewer ol {\n padding-left: 30px;\n}\nul{\nlist-style-type: asquare;\n}\nol{ \n list-style-type: decimal;\n}\n\nol ol{ \n list-style-type: lower-alpha;\n}\n\nol ol ol{ \n list-style-type: lower-roman;\n}\n\n.viewer ul, .viewer ol, .viewer p {\n margin: .0;\n}\n\n.viewer li {\n margin: .2em 0;\n}\n\nh1,h2,h3,h4,h5,h6 {\n color: #000;\n font-weight: bold;\n background: #eee;\n padding: 2px 10px;\n margin: 5px 0;\n}\n\n.viewer h1 {font-size: 1.8em;}\n.viewer h2 {font-size: 1.6em;}\n.viewer h3 {font-size: 1.4em;}\n.viewer h4 {font-size: 1.2em;}\n.viewer h5 { font-size: 1em;}\n.viewer h6 { font-size: .9em;}\n\n.viewer table {\n border: 2px solid #303030;\n font-size: 11px;\n margin: 10px 0;\n}\n\n.viewer th, .viewer thead td{\n color: #000;\n background: #eee;\n border: 1px solid #aaa;\n padding: 0 3px;\n}\n\n.viewer td {\n border: 1px solid #aaa;\n padding: 0 3px;\n}\n\n.viewer caption {\n padding: 3px;\n}\n\n.viewer hr {\n border: none;\n border-top: dotted 1px #777;\n height: 1px;\n color: #777;\n margin: 7px 0;\n}\n\n.viewer\n{\n margin: .5em 0 0 0;\n padding: .5em 0;\n border-top: 1px solid #ccc;\n}\n\n.highlight {\n color: #000;\n background: #ffe72f;\n}\n/*}}}*/\n/***\n!Editor rules /% ----------------------------------------------------------------------------------------- %/\n***/\n/*{{{*/\n.editor {\n font-size: .8em;\n color: #402C74;\n padding: .3em 0;\n}\n\n.editor input, .editor textarea {\n font: 1.1em/130% &quot;Andale Mono&quot;, &quot;Monaco&quot;, &quot;Lucida Console&quot;, &quot;Courier New&quot;, monospace;\n margin: 0;\n border: 1px inset #333;\n padding: 2px 0;\n}\n\n.editor textarea {\n height: 42em;\n width: 100%;\n}\n\ninput:focus, textarea:focus\n{\n background: #ffe;\n border: 1px solid #000;\n}\n.footer\n{\n padding: .5em 0;\n margin: .5em 0;\n border-top: 1px solid #ddd;\n color: #555;\n text-align: center; \n}\n/*}}}*/\n/***\n!IE Display hacks /% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%/\n***/\n/*{{{*/\nbody{\n _text-align: center;\n}\n\n#contentWrapper\n{\n/* _width: 770px; CSS UNDERSCORE HACK FOR PROPER WIN/IE DISPLAY */\n _text-align: left; /* CSS UNDERSCORE HACK FOR PROPER WIN/IE DISPLAY */ \n}\n\n#messageArea{\n _position: absolute;\n}\n/*}}}*/</div>
<div tiddler="StyleSheetPrint" modifier="Clint Checketts" modified="200601100755" created="200512062222" tags="systemTiddlers">/*{{{*/\n\n@media print {\n#mainMenu, #sidebar, #messageArea {display: none !important;}\n#displayArea {margin: 1em 1em 0em 1em;}\n\n\n/* LAYOUT ELEMENTS ========================================================== */\n*\n{\n margin: 0;\n padding: 0;\n}\n\nbody {\n background: #fff;\n color: #000;\n font-size: 6.2pt;\n font-family: &quot;Lucida Grande&quot;, &quot;Bitstream Vera Sans&quot;, Helvetica, Verdana, Arial, sans-serif;\n}\n\nimg {\n max-width: 2.2in;\n max-height: 4.3in;\n}\n\n#header, #side_container, #storeArea, #copyright, #floater, #messageArea, .save_accesskey, .site_description, #saveTest, .toolbar, .footer\n{\n display: none;\n}\n\n#tiddlerDisplay, #displayArea\n{\n display: inline;\n}\n\n.tiddler {\n margin: 0 0 2em 0;\n border-top: 1px solid #000;\n page-break-before: always;\n}\n\n.tiddler:first-child {\n page-break-before: avoid;\n}\n\n.title {\n font-size: 1.6em;\n font-weight: bold;\n margin-bottom: .3em;\n padding: .2em 0;\n border-bottom: 1px dotted #000;\n}\n\np, blockquote, ul, li, ol, dt, dd, dl, table\n{\n margin: 0 0 .3em 0;\n}\n\nh1, h2, h3, h4, h5, h6\n{\n margin: .2em 0;\n} \n\nh1\n{\n font-size: 1.5em;\n}\n\nh2\n{\n font-size: 1.3em;\n}\n\nh3\n{\n font-size: 1.25em;\n}\n\nh4\n{\n font-size: 1.15em;\n}\n\nh5\n{\n font-size: 1.1em;\n}\n\nblockquote\n{\n margin: .6em;\n padding-left: .6em;\n border-left: 1px solid #ccc;\n}\n\nul\n{\n list-style-type: circle;\n}\n\nli\n{\n margin: .1em 0 .1em 2em;\n line-height: 1.4em; \n}\n\ntable\n{\n border-collapse: collapse;\n font-size: 1em;\n}\n\ntd, th\n{\n border: 1px solid #999;\n padding: .2em;\n}\n\nhr {\n border: none;\n border-top: dotted 1px #777;\n height: 1px;\n color: #777;\n margin: .6em 0;\n}\n}\n/*}}}*/</div>
<div tiddler="TODO" modifier="TakeshiMorita" modified="200601312336" created="200601311921" tags="">* Ê¶ÇÂøµÂÆöÁæ©„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰øùÂ≠ò„ÉªÂæ©ÂÖÉ\n* Ë§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åó„ÅüÂæå„Å´ÔºåÊú´Â∞æ‰ª•Â§ñ„ÅÆÊ¶ÇÂøµÈñì„ÅÆË∑ùÈõ¢„ÇíÂà©Áî®„Åó„Å¶„ÇØ„É©„Çπ„Çø„É™„É≥„Ç∞ÂèØËÉΩ„Å´„Åô„Çã\n* Êó¢Â≠òÊ¶ÇÂøµÈöéÂ±§„Å´ÔºåÂæå„Åã„ÇâÂÖ•ÂäõÊ¶ÇÂøµ„ÇíËøΩÂä†„ÅóÔºåÊ¶ÇÂøµÈöéÂ±§„ÇíÂÜçÊßãÁØâ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„ÇãÔºà„Ç§„É≥„ÇØ„É™„É°„É≥„Çø„É´„Å™„Ç™„É≥„Éà„É≠„Ç∏„ÉºÊßãÁØâ„ÇíÂèØËÉΩ„Å´„Åô„ÇãÔºâ\n* ËæûÊõ∏„Å®„Åó„Å¶ÔºåEDRÔºåEDRÂ∞ÇÈñÄËæûÊõ∏ÔºåÊó•Êú¨Ë™ûË™ûÂΩô‰ΩìÁ≥ªÔºåWordNet„ÇíÂà©Áî®„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã\n* Ë§áÊï∞ËæûÊõ∏„ÇíÂà©Áî®„Åó„Å¶„Ç™„É≥„Éà„É≠„Ç∏„Éº„ÇíÊßãÁØâÂèØËÉΩ„Å´„Åô„Çã\n* „Éá„Éº„Çø„Çø„Ç§„Éó„Éó„É≠„Éë„ÉÜ„Ç£„ÇíÊâ±„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã\n* „Éâ„Ç≠„É•„É°„É≥„Éà„ÅÆ‰ΩúÊàê\n* Ë§áÂêàË™û„ÇíÈöéÂ±§Âåñ„Åô„ÇãÈöõ„Å´ËøΩÂä†„Åó„ÅüÊ¶ÇÂøµ„ÅØÔºå„Éô„Çπ„Éà„Éû„ÉÉ„ÉÅ„Åß„ÅØ„Å™„ÅèÔºåSIN„Å®„Åó„Å¶Âå∫Âà•„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„ÇãÔºé\n* DODDLE„ÅÆ„Çπ„Éó„É©„ÉÉ„Ç∑„É•„Ç¶„Ç£„É≥„Éâ„Ç¶Áî®„ÅÆÁîªÂÉè„Çí‰Ωú„Çã\n* Ê¶ÇÂøµÂÆöÁæ©„ÅßÂêåÁæ©Ë™û„ÇíÂØæË±°„Å´„Åô„Çã„Åã„Å©„ÅÜ„ÅãÈÅ∏ÊäûÂèØËÉΩ„Å´„Åô„Çã\n* Ê¶ÇÂøµÂÆöÁæ©„ÅßÂêå‰∏ÄÊ¶ÇÂøµ„ÇÇÂØæË±°„Å´„Åô„Çã„Åã„Å©„ÅÜ„ÅãÈÅ∏ÊäûÂèØËÉΩ„Å´„Åô„Çã\n** ÁèæÁä∂„Åß„ÅØÔºåÂÖ•ÂäõÂçòË™û„Å´ÂØæÂøú„Åô„ÇãÊ¶ÇÂøµ„ÅÆÂêåÁæ©Ë™û„Åô„Åπ„Å¶„Å´„Å§„ÅÑ„Å¶ÔºåÂÖ±Ëµ∑„Åó„Å¶„ÅÑ„Çã„Åã„Å©„ÅÜ„Åã„ÇíË™ø„Åπ„Å¶„ÅÑ„Çã\n** „Åæ„ÅüÔºåÂêå‰∏ÄÊ¶ÇÂøµ„ÅÆÂêåÁæ©Ë™ûÁ≠â„Å´„Å§„ÅÑ„Å¶„ÅØËÄÉÊÖÆ„Åó„Å¶„ÅÑ„Å™„ÅÑÔºé</div>
<div tiddler="ViewTemplate" modifier="Clint Checketts" modified="200601100755" created="200601051233" tags="systemTiddlers">&lt;div class='toolbar' macro='toolbar -closeTiddler closeOthers +editTiddler permalink references jump'&gt;&lt;/div&gt;\n&lt;div class='title' macro='view title'&gt;&lt;/div&gt;\n&lt;div class='subtitle'&gt;by &lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date [[DD MMM YYYY]]'&gt;&lt;/span&gt; (created &lt;span macro='view created date [[DD MMM YYYY]]'&gt;&lt;/span&gt;)&lt;/div&gt;\n&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;\n&lt;div class='footer' macro='tags'&gt;&lt;/div&gt;</div>
<div tiddler="Êó•Êú¨Ë™ûÂåñ" modifier="TakeshiMorita" modified="200602031355" created="200602011152" tags="systemConfig">// Shadow tiddlers for emergencies\nconfig.shadowTiddlers.SideBarOptions = &quot;&lt;&lt;search&gt;&gt;&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal 'DD MMM YYYY'&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel Ë®≠ÂÆö 'TiddlyWiki„ÅÆË®≠ÂÆö„ÇíÂ§âÊõ¥„Åô„Çã„ÄÇ'&gt;&gt;&quot;;\nconfig.shadowTiddlers.OptionsPanel = &quot;„Åì„Çå„Çâ„ÅÆË®≠ÂÆö„ÅØ„Åî‰ΩøÁî®„ÅÆ„Éñ„É©„Ç¶„Ç∂ÂÜÖ„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åô„ÄÇ\sn\snÁΩ≤Âêç„Å®„Åó„Å¶‰ΩøÁî®„Åô„Çã„ÅÇ„Å™„Åü„ÅÆÂêçÂâç„ÇíWikiWord(eg JoeBloggs)„ÅÆÂΩ¢Âºè„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\sn\sn&lt;&lt;option txtUserName&gt;&gt;\sn&lt;&lt;option chkSaveBackups&gt;&gt; „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂèñÂæó\sn&lt;&lt;option chkAutoSave&gt;&gt; Ëá™Âãï‰øùÂ≠ò\sn&lt;&lt;option chkGenerateAnRssFeed&gt;&gt; RSS„Éï„Ç°„Ç§„É´ÁîüÊàê\sn&lt;&lt;option chkRegExpSearch&gt;&gt; Ê≠£Ë¶èË°®Áèæ„Å´„Çà„ÇãÊ§úÁ¥¢\sn&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; Ëã±ÊñáÂ≠óÂ§ßÂ∞èÂå∫Âà•Ê§úÁ¥¢\sn&lt;&lt;option chkAnimate&gt;&gt; „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥\sn\sn AdvancedOptions&quot;;\n\nconfig.shadowTiddlers.SideBarTabs = &quot;&lt;&lt;tabs txtMainTab 'Êõ¥Êñ∞È†Ü' 'Êõ¥Êñ∞È†Ü„Å´Ë°®Á§∫„Åô„Çã' TabTimeline 'ÂÖ®ÈÉ®' '„Åô„Åπ„Å¶„ÅÆTiddler' TabMoreAll '„Çø„Ç∞' '„Çø„Ç∞‰∏ÄË¶ß' TabTags 'Ë©≥Á¥∞' 'Ë©≥Á¥∞' TabMore&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabTimeline = &quot;&lt;&lt;timeline&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabTags = &quot;&lt;&lt;allTags&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabMore = &quot;&lt;&lt;tabs txtMoreTab 'ÂÆöÁæ©„Å™„Åó' 'ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑTiddler‰∏ÄË¶ß' TabMoreMissing '„É™„É≥„ÇØÂàá„Çå' '„É™„É≥„ÇØÂàá„Çå„Åó„Å¶„ÅÑ„ÇãÂçòÁã¨„ÅÆTiddler' TabMoreOrphans&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabMoreAll = &quot;&lt;&lt;list all&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabMoreMissing = &quot;&lt;&lt;list missing&gt;&gt;&quot;;\nconfig.shadowTiddlers.TabMoreOrphans = &quot;&lt;&lt;list orphans&gt;&gt;&quot;;\n\n// Each has a 'handler' member that is inserted later\nconfig.macros.search.label = &quot;WikiÂÜÖÊ§úÁ¥¢&quot;;\nconfig.macros.search.prompt = &quot;„Åì„ÅÆTiddlyWikiÂÜÖ„ÇíÊ§úÁ¥¢„Åó„Åæ„Åô„ÄÇ&quot;\nconfig.macros.search.successMsg = &quot;%0 ‰ª∂Ë¶ã„Å§„Åã„Çä„Åæ„Åó„Åü„ÄÇ- %1&quot;;\nconfig.macros.search.failureMsg = &quot;%0 „Å´Ë©≤ÂΩì„Åô„Çã„Éá„Éº„Çø„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ&quot;;\nconfig.macros.timeline.dateFormat = &quot;YYYYÂπ¥MMÊúàDDÊó•&quot;;\nconfig.macros.allTags.tooltip = &quot;„Çø„Ç∞'%0'„ÅÆ„Éá„Éº„Çø„Çí„Åô„Åπ„Å¶Ë°®Á§∫„Åó„Åæ„Åô„ÄÇ&quot;;\nconfig.macros.allTags.noTags = &quot;„Çø„Ç∞„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ&quot;;\nconfig.macros.list.all.prompt = &quot;„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„ÉàÈ†Ü„ÅÆTiddler‰∏ÄË¶ß&quot;;\nconfig.macros.list.missing.prompt = &quot;„É™„É≥„ÇØ„ÅØ„Åï„Çå„Å¶„ÅÑ„Çã„ÅåÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑTiddler‰∏ÄË¶ß&quot;;\nconfig.macros.list.orphans.prompt = &quot;‰ªñ„ÅÆ„Å©„Åì„Åã„Çâ„ÇÇ„É™„É≥„ÇØ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑTiddler‰∏ÄË¶ß&quot;;\nconfig.macros.closeAll.label = &quot;„Åô„Åπ„Å¶Èñâ„Åò„Çã&quot;;\nconfig.macros.closeAll.prompt = &quot;Á∑®ÈõÜ„Åï„Çå„Å¶„ÅÑ„Çã„ÇÇ„ÅÆ‰ª•Â§ñ„ÅÆË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Åô„Åπ„Å¶Tiddler„ÇíÈñâ„Åò„Åæ„Åô„ÄÇ&quot;;\nconfig.macros.permaview.label = &quot;permaview&quot;;\nconfig.macros.permaview.prompt = &quot;ÁèæÂú®Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„ÇãTiddler„ÅÆÁä∂ÊÖã„ÇíË°®Á§∫„Åô„ÇãURL„Åß„Åô„ÄÇ&quot;\nconfig.macros.saveChanges.label = &quot;‰øùÂ≠ò&quot;;\nconfig.macros.saveChanges.prompt = &quot;„Åô„Åπ„Å¶„ÅÆTiddler„Çí‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇ&quot;;\nconfig.macros.newTiddler.label = &quot;Êñ∞Ë¶è‰ΩúÊàê&quot;;\nconfig.macros.newTiddler.Title = &quot;Êñ∞Ë¶èTiddler&quot;;\nconfig.macros.newTiddler.prompt = &quot;Êñ∞„Åó„ÅÑTiddler„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ&quot;;\nconfig.macros.newJournal.label = &quot;Êñ∞Ë¶èÊó•Â†±&quot;;\nconfig.macros.newJournal.prompt = &quot;Êñ∞„Åó„ÅÑTiddler„ÇíÁèæÂú®„ÅÆÊó•ÊôÇ„Çí„Çø„Ç§„Éà„É´„Å®„Åó„Å¶‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ&quot;;\n\nconfig.commands.closeTiddler.text = &quot;Èñâ„Åò„Çã&quot;;\nconfig.commands.closeOthers.text = &quot;‰ªñ„ÇíÈñâ„Åò„Çã&quot;;\nconfig.commands.editTiddler.text = &quot;Á∑®ÈõÜ&quot;;\nconfig.commands.saveTiddler.text = &quot;‰øùÂ≠ò&quot;;\nconfig.commands.cancelTiddler.text = &quot;ÂèñÊ∂à&quot;;\nconfig.commands.deleteTiddler.text = &quot;ÂâäÈô§&quot;;\nconfig.commands.permalink.text = &quot;permalink&quot;;\nconfig.commands.references.text = &quot;ÂèÇÁÖß&quot;;\nconfig.commands.jump.text = &quot;„Ç∏„É£„É≥„Éó&quot;;\n\n// „É°„ÉÉ„Çª„Éº„Ç∏\nconfig.messages.customConfigError = &quot;„Ç´„Çπ„Çø„É†„Ç≥„É≥„Éï„Ç£„Ç∞„Å´„Å¶„Ç®„É©„ÉºÁô∫Áîü„ÄÇ - %0&quot;;\nconfig.messages.savedSnapshotError = &quot;‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇË©≥Á¥∞„ÅØ http://www.tiddlywiki.com/#DownloadSoftware „Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ&quot;;\nconfig.messages.subtitleUnknown = &quot;(‰∏çÊòé)&quot;;\nconfig.messages.undefinedTiddlerToolTip = &quot;'%0'„Å®„ÅÑ„ÅÜTiddler„ÅØ„Åæ„Å†Â≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ&quot;;\nconfig.messages.externalLinkTooltip = &quot;(Â§ñÈÉ®„É™„É≥„ÇØ) %0&quot;;\nconfig.messages.noTags = &quot;„Çø„Ç∞„ÅÆË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑTiddler&quot;;\nconfig.messages.notFileUrlError = &quot;Â§âÊõ¥„Çí‰øùÂ≠ò„Åó„Åü„ÅÑÂ†¥Âêà„ÄÅ„Åì„ÅÆTiddlyWiki„Çí„Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò(„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ)„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ&quot;;\nconfig.messages.cantSaveError = &quot;„Åì„ÅÆ„Éñ„É©„Ç¶„Ç∂„Åß„ÅØ‰øùÂ≠ò„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Åß„Åç„Çå„Å∞Firefox„Çí‰Ωø„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&quot;;\nconfig.messages.invalidFileError = &quot;ÂÖÉ„ÅÆ„Éï„Ç°„Ç§„É´ '%0' „ÅØÂ¶•ÂΩì„Å™TiddlyWiki„ÅÆ„Éï„Ç°„Ç§„É´„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ&quot;;\nconfig.messages.backupSaved = &quot;„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.backupFailed = &quot;„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.rssSaved = &quot;RSS„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.rssFailed = &quot;RSS„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.emptySaved = &quot;Á©∫„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.emptyFailed = &quot;Á©∫„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.mainSaved = &quot;TiddlyWiki„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ&quot;;\nconfig.messages.mainFailed = &quot;TiddlyWiki„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ‰øÆÊ≠£ÂÜÖÂÆπ„ÅØ‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ&quot;;\nconfig.messages.macroError = &quot;„Éû„ÇØ„É≠ÂÆüË°åÊôÇ„Ç®„É©„ÉºÔºö '%0'&quot;;\nconfig.messages.overwriteWarning = &quot;'%0'„Å®„ÅÑ„ÅÜTiddler„ÅØ„Åô„Åß„Å´Â≠òÂú®„Åó„Åæ„Åô„ÄÇOK„ÇíÈÅ∏Êäû„Åô„Çã„Å®‰∏äÊõ∏„Åç„Åó„Åæ„Åô„ÄÇ&quot;;\nconfig.messages.unsavedChangesWarning = &quot;Ë≠¶ÂëäÔºÅ ‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂ§âÊõ¥„ÅåÂ≠òÂú®„Åó„Åæ„Åô„ÄÇ\sn\snOK„ÇíÈÅ∏ÊäûÔºö‰øùÂ≠ò\snCancel„ÇíÈÅ∏ÊäûÔºöÁ∑®ÈõÜÂÜÖÂÆπ„ÇíÁ†¥Ê£Ñ&quot;;\nconfig.messages.months = [&quot;1Êúà&quot;, &quot;2Êúà&quot;, &quot;3Êúà&quot;, &quot;4Êúà&quot;, &quot;5Êúà&quot;, &quot;6Êúà&quot;, &quot;7Êúà&quot;, &quot;8Êúà&quot;, &quot;9Êúà&quot;, &quot;10Êúà&quot;, &quot;11Êúà&quot;,&quot;12Êúà&quot;];\nconfig.messages.dates.days = [&quot;Êó•&quot;, &quot;Êúà&quot;, &quot;ÁÅ´&quot;, &quot;Ê∞¥&quot;, &quot;Êú®&quot;, &quot;Èáë&quot;, &quot;Âúü&quot;];\n</div>
		</div>
	</body>
</html>
